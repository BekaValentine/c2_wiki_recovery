<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Electric Fence
      </h1>
      <p>
        Can you spot the error in the following code (other than the fact that it uses "new" directly)? <em>What's wrong with new?</em>
      </p>
      <code>
        const int SIZE = 16;<br/>
        int* ia = new int[SIZE];<br/>
        for (unsigned int i = 0; i <= SIZE; i++) {<br/>
        ia[i] = 1;<br/>
        }<br/>
      </code>
      <p>
        Well, <a href="ElectricFence.html">ElectricFence</a> can!
      </p>
      <p>
        <a href="ElectricFence.html">ElectricFence</a>, or "efence", is a nifty little link-in replacement for malloc() that has a nifty implementation allowing bugs like the above to be automatically caught at run-time.
      </p>
      <p>
        The problem with bad pointers is that they probably point at data near where they should've pointed.  If they point off into the blue, you'll get a core dump with or without efence.  However, if they point nearer to your own data (such as one sizeof(int) beyond, as in the above example), the machine will probably keep running in a blissfully undefined state.
      </p>
      <p>
        Available at your local apt-get mirror or <a href="http://www.perens.com/FreeSoftware/">http://www.perens.com/FreeSoftware/</a>
      </p>
      <p>
        Note:  This only catches errors at run-time, which may be too late.  If you've got some money to burn check out <a href="RationalPurify.html">RationalPurify</a> 'n' friends.
      </p>
      <hr/>
      <p>
        Or on Windows just call _heapchk at some regular interval to get exactly the same result. -- <a href="PhilippeDetournay.html">PhilippeDetournay</a>
      </p>
    </div>
  </body>
</html>