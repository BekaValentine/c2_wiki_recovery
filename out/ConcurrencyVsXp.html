<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Concurrency Vs Xp
      </h1>
      <p>
        <em>I tentatively agree. A </em><a href="HeisenBug.html">HeisenBug</a> might have caused this in the first place e.g. due to arace condition that only happens when the threads involved behave 'unusual' because of the debugger stopping one of them for a time. And a <a href="HeisenBug.html">HeisenBug</a> might necessitate extra tools to be used to track this down (the '<a href="MonkeyPatch.html">MonkeyPatch</a>' above). But nonetheless the XP way of using that would probably be to mock the logic in the threads. Probably there are not yet enough tests present to cover this.<em></em>
      </p>
      <p>
        <em>This is how XP may gradually fail in the presence of multi threading. Concurrency is hard and this is not made easier by XP. You have to write more tests and this requires knowledge and discipline. In any case it wouldn't have been as easy as told above.</em>
      </p>
      <p>
        XP makes concurrency very easy if you follow these steps:
      </p>
      <ul>
        <li>
           no <a href="PrematureConcurrency.html">PrematureConcurrency</a>
        </li>
        <li>
           refactor towards an <a href="EventDriven.html">EventDriven</a> object model by any means necessary
        </li>
        <li>
           get all your features working with simple <a href="ActionChunking.html">ActionChunking</a>
        </li>
        <li>
           debug and productize your features
        </li>
        <li>
           prove, with numbers, that threading will improve things - not make them worse
        </li>
        <li>
           if you can't prove that, you have a clean design so go with it
        </li>
        <li>
           if you need concurrency, trivially move your work loop into the thread, and pass all the tests.
        </li>
        <li>
           keep alive the tests that run the work loop in its synchronous incarnation
        </li>
        <li>
           soak-test the threading.
        </li>
      </ul>
      <p>
        Note those steps emerge from <a href="DoSimpleThings.html">DoSimpleThings</a> - if you recognize how dreadfully complex a simple Thread call is. 
      </p>
      <p>
        They don't make your code <a href="HeisenBug.html">HeisenBug</a> proof. However, those rules reproduce the standard design tutorials describing how to keep threads safe. It's all about the structure!
      </p>
      <p>
        Next, if you have a <a href="HeisenBug.html">HeisenBug</a>, <a href="RevertDontDebug.html">RevertDontDebug</a>.
      </p>
    </div>
  </body>
</html>