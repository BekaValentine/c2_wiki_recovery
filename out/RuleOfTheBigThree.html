<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Rule Of The Big Three
      </h1>
      <p>
        In the context of C++ (<a href="WikiName.html">WikiName</a>: <a href="CeePlusPlus.html">CeePlusPlus</a>) the <a href="RuleOfTheBigThree.html">RuleOfTheBigThree</a> states the following:
      </p>
      <p>
        <em>Any class requiring a destructor, copy constructor, or an assignment operator must have all three implemented.</em>  But there are exceptions--see below.
      </p>
      <p>
        All this gets at is if any of these are written, it can be assumed that there are "extra" resources somewhere in the class that must be dealt with.
      </p>
      <p>
        <em>I can think of a class that has a copy constructor and assignment operator but no destructor. The simplest example that comes to mind is if every object of that class has a serial number, in which case the copy constructor must give the newly created copy a new serial number, the assignment operator must avoid copying the source's serial number to the destination, and no destructor is necessary unless one would be necessary for another reason. On the other hand, I can't think of a class that needs a destructor and does not also need an assignment operator and a copy constructor. -- </em><a href="AndrewKoenig.html">AndrewKoenig</a><em></em>
      </p>
      <p>
        But what happens to a serial number if no longer needed?  Both copying and assignment require some sort of registry to keep track of serial numbers... it's an external resource. -- <a href="WilliamUnderwood.html">WilliamUnderwood</a>
      </p>
      <p>
        <em>In the model I have in mind, each object's serial number is stored as part of the object itself. No serial number is ever reused (so the serial numbers must be capable of storing the total number of objects that the program creates during its execution). When an object is copied, the copy is a new object, so it gets a new serial number. When one object is assigned to another, both objects retain their identity - it is just the contents that change - so the objects' serial numbers don't change. -- </em><a href="AndrewKoenig.html">AndrewKoenig</a><em></em>
      </p>
      <p>
        I thought I recalled one associated with smart pointers, pimpls, and incomplete types. When I drop a std::auto_ptr<IncompleteT> into a class C, doesn't 5.3.5/5 require that I replace the implicitly generated destructor?
      </p>
      <p>
        <em>Wouldn't an abstract base class with no data members require a virtual destructor, but not an assignment operator or copy constructor?</em> -- <a href="ChrisHines.html">ChrisHines</a>
      </p>
      <ul>
        <li>
           A trivial virtual destructor (one with an empty body) apparently doesn't count...
        </li>
      </ul>
    </div>
  </body>
</html>