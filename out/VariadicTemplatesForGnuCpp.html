<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Variadic Templates For Gnu Cpp
      </h1>
      <p>
        <a href="VariadicTemplates.html">VariadicTemplates</a> are an  addition to <a href="CeePlusPlus.html">CeePlusPlus</a> which were implemented on a trial basis by modifying the <a href="GnuCpp.html">GnuCpp</a> compiler.
      </p>
      <p>
        They are now available with compilers which support the new standard <a href="CeePlusPlusEleven.html">CeePlusPlusEleven</a>.
      </p>
      <hr/>
      <p>
        <em>Historic notes</em>
      </p>
      <p>
        For details see <a href="http://www.osl.iu.edu/~dgregor/cpp/variadic-templates.html">http://www.osl.iu.edu/~dgregor/cpp/variadic-templates.html</a>
      </p>
      <p>
        There are some binaries on Doug Gregor's website to download and try out.
      </p>
      <p>
        One of the motivations for this is to use it to implement some of the items in <a href="TechnicalReportOne.html">TechnicalReportOne</a> in a more efficient way. The modified compiler includes implementations of a lot of this, including tuple and bind from the <a href="BoostLibraries.html">BoostLibraries</a>.
      </p>
      <p>
        I have been exploring using this in combination with <a href="FunctoidsInCpp.html">FunctoidsInCpp</a>. -- <a href="JohnFletcher.html">JohnFletcher</a>
      </p>
      <p>
        I'm curious how they implemented this.  Does the compiler create a full recursive expansion for every permutation of parameters that gets used, or does it do some sort of fancy dispatch at runtime?  The former tends to optimize for speed, while the latter tends to optimize for code size.  I suppose a <a href="SufficientlySmartCompiler.html">SufficientlySmartCompiler</a> could do both, favoring runtime dispatch unless it can achieve a significant speed-up by expanding for some particular sequence of types.  Anyone know what <a href="GnuCpp.html">GnuCpp</a> does? -- <a href="MichaelSparks.html">MichaelSparks</a>
      </p>
      <p>
        Yes, the compiler creates a full recursive expansion for every permutation of parameters that gets used, because we did not want to change how template instantiation works for a relatively small addition to the C++ template system. -- Douglas Gregor
      </p>
      <p>
        It is possible to inspect the source code at the web reference given. What is supplied is a patch file for gcc 4.1.1. -- <a href="JohnFletcher.html">JohnFletcher</a>
      </p>
      <ul>
        <li>
           There is an extension of this work which covers template template parameters 
          <ul>
            <li>
               see <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2008/n2555.pdf">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2008/n2555.pdf</a>
            </li>
          </ul>
        </li>
        <li>
           This is implemented in GCC 4.4.
          <ul>
            <li>
               see <a href="http://gcc.gnu.org/projects/cxx0x.html">http://gcc.gnu.org/projects/cxx0x.html</a>
            </li>
          </ul>
        </li>
      </ul>
      <hr/>
      <p>
        <strong>April 2007</strong> The variadic additions are now available in an experimental version of gcc 4.3 
      </p>
      <p>
        See the web site above.
      </p>
      <p>
        I have used the experimental compilers to build a variadic version of the <a href="BoostFusionUserExtension.html">BoostFusionUserExtension</a> which makes it much easier for the user to write a new structure.
      </p>
      <p>
        <strong>February 2009</strong> This has evolved into a variadic tuple for <a href="BoostFusion.html">BoostFusion</a>. Work is in progress on a variadic version of <a href="BoostMpl.html">BoostMpl</a>.
      </p>
      <p>
        <strong>November 2009</strong> I have also worked a variadic version of <a href="FunctoidsInCpp.html">FunctoidsInCpp</a> - see <a href="VariadicFunctoidsInCpp.html">VariadicFunctoidsInCpp</a>.
      </p>
      <p>
        -- <a href="JohnFletcher.html">JohnFletcher</a> 
      </p>
      <hr/>
      <p>
        <a href="CategoryCpp.html">CategoryCpp</a> <a href="CategoryCppTemplates.html">CategoryCppTemplates</a>
      </p>
    </div>
  </body>
</html>