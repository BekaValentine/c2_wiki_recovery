<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Curl Language Examples
      </h1>
      <p>
        See <a href="CurlLanguage.html">CurlLanguage</a>
      </p>
      <p>
        From
      </p>
      <code>
        The Curl Programming Environment<br/>
        Dr. Dobb's Journal September 2001<br/>
        <a href="http://www.ddj.com/documents/s=1485/ddj0109f/0109f.htm">http://www.ddj.com/documents/s=1485/ddj0109f/0109f.htm</a><br/>
      </code>
      <hr/>
      <code>
        || File: start2.curl<br/>
        || Contents:<br/>
        ||     This applet allows to enter a value to a TextField<br/>
        ||     The prompt and result will be shown with funny, jumping letters<br/>
        || Author: Friedger Mueffke<br/>
        || Version: 1.2 <br/>
      </code>
      <code>
        {curl 1.5 applet}<br/>
      </code>
      <code>
        {import * from MUEFFKE.COMPONENTS.LETTERBOX,<br/>
        location="letterbox.curl"}<br/>
      </code>
      <code>
        || Create a document without margins and scrollbars<br/>
        || that it can neatly integrated in a HTML document<br/>
        {document-style PlainDocument}<br/>
      </code>
      <code>
        || Define function that fetches a string from a web site<br/>
        {define-proc {get-web-string}:String<br/>
        {let nr: int = {value<br/>
        {let rand:LinearRandom={LinearRandom}}<br/>
        {rand.next-in-range 0, 6}<br/>
        },<br/>
        result: String ="Welcome"<br/>
        }<br/>
      </code>
      <code>
        {try<br/>
        let intext: TextInputStream =<br/>
        {read-open{url "txt.php3?nr=" & nr}}<br/>
        {set result={{intext.read-one-line}.to-String}}<br/>
        {intext.close}<br/>
        catch err: MissingFileException do<br/>
        {error "Cannot find that file. Sorry!"}<br/>
        }<br/>
        {return result}<br/>
      </code>
      <code>
        }<br/>
      </code>
      <code>
        || Declare a global variable without instanziation<br/>
        {let c:#LetterBox}<br/>
      </code>
      <code>
        || The output of this environement is its last line<br/>
        {value<br/>
        {set<br/>
        || Define Canvas containing the letters<br/>
        c={LetterBox<br/>
        "Enter your Name",<br/>
        width=10cm,<br/>
        height=5cm,<br/>
        background="black"<br/>
        }<br/>
        }<br/>
        {let<br/>
        || Define TextField to enter a value<br/>
        tf:TextField={TextField<br/>
        {on ValueFinished do<br/>
        {if (tf.value != null ) then<br/>
        {do<br/>
        {c.set-string ({get-web-string} & " " & tf.value)}<br/>
        {c.move-string-to-center}<br/>
        }<br/>
        }<br/>
        }<br/>
        }<br/>
        }<br/>
      </code>
      <code>
        {c.add tf,<br/>
        x=1cm,<br/>
        y=1cm<br/>
        }<br/>
      </code>
      <code>
        c<br/>
        }<br/>
      </code>
      <code>
        || This environment doesn't produce any output!<br/>
        || Resize the Letter Box to a size of 500 x 400 pixel<br/>
        {do<br/>
        {set c.height=c.points-per-pixel*400}<br/>
        {set c.width=c.points-per-pixel*500}<br/>
      </code>
      <code>
        }<br/>
        || File: start2.curl<br/>
        || Contents:<br/>
        ||     This applet allows to enter a value to a TextField<br/>
        ||     The prompt and result will be shown with funny, jumping letters<br/>
        || Author: Friedger Mueffke<br/>
        || Version: 1.2 <br/>
      </code>
      <code>
        {curl 1.5 applet}<br/>
      </code>
      <code>
        {import * from MUEFFKE.COMPONENTS.LETTERBOX,<br/>
        location="letterbox.curl"}<br/>
      </code>
      <code>
        || Create a document without margins and scrollbars<br/>
        || that it can neatly integrated in a HTML document<br/>
        {document-style PlainDocument}<br/>
      </code>
      <code>
        || Define function that fetches a string from a web site<br/>
        {define-proc {get-web-string}:String<br/>
        {let nr: int = {value<br/>
        {let rand:LinearRandom={LinearRandom}}<br/>
        {rand.next-in-range 0, 6}<br/>
        },<br/>
        result: String ="Welcome"<br/>
        }<br/>
      </code>
      <code>
        {try<br/>
        let intext: TextInputStream =<br/>
        {read-open{url "txt.php3?nr=" & nr}}<br/>
        {set result={{intext.read-one-line}.to-String}}<br/>
        {intext.close}<br/>
        catch err: MissingFileException do<br/>
        {error "Cannot find that file. Sorry!"}<br/>
        }<br/>
        {return result}<br/>
      </code>
      <code>
        }<br/>
      </code>
      <code>
        || Declare a global variable without instanziation<br/>
        {let c:#LetterBox}<br/>
      </code>
      <code>
        || The output of this environement is its last line<br/>
        {value<br/>
        {set<br/>
        || Define Canvas containing the letters<br/>
        c={LetterBox<br/>
        "Enter your Name",<br/>
        width=10cm,<br/>
        height=5cm,<br/>
        background="black"<br/>
        }<br/>
        }<br/>
        {let<br/>
        || Define TextField to enter a value<br/>
        tf:TextField={TextField<br/>
        {on ValueFinished do<br/>
        {if (tf.value != null ) then<br/>
        {do<br/>
        {c.set-string ({get-web-string} & " " & tf.value)}<br/>
        {c.move-string-to-center}<br/>
        }<br/>
        }<br/>
        }<br/>
        }<br/>
        }<br/>
      </code>
      <code>
        {c.add tf,<br/>
        x=1cm,<br/>
        y=1cm<br/>
        }<br/>
      </code>
      <code>
        c<br/>
        }<br/>
      </code>
      <code>
        || This environment doesn't produce any output!<br/>
        || Resize the Letter Box to a size of 500 x 400 pixel<br/>
        {do<br/>
        {set c.height=c.points-per-pixel*400}<br/>
        {set c.width=c.points-per-pixel*500}<br/>
      </code>
      <code>
        }<br/>
      </code>
    </div>
  </body>
</html>