<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Ant Usage Task
      </h1>
      <p>
        This is a proposed <a href="DesignPattern.html">DesignPattern</a> for the <a href="ApacheAnt.html">ApacheAnt</a> build tool -- to have a default "usage" target to describe the usage of the given build file.
      </p>
      <p>
        Be sure to consider the discussion below, which suggests that users use the '-projecthelp' (or '-p') command line option to print metadata about the project, and that build script writers should use the <description> element and the description attribute of the target element to document each target.
      </p>
      <hr/>
      <p>
        <strong>Context:</strong>
      </p>
      <dl>
        <dt> </dt>
        <dd>You are using the <a href="ApacheAnt.html">ApacheAnt</a> build tool to build your system.</dd>
      </dl>
      <p>
        <strong>Problem:</strong>
      </p>
      <dl>
        <dt> </dt>
        <dd>It is useful if all team members are using the ant tool to build, test and deploy a system. However, often only the author of the build script knows what targets are available and it requires them to either ask the author or examine the build script to find out. </dd>
      </dl>
      <p>
        <strong>Therefore:</strong>
      </p>
      <dl>
        <dt> </dt>
        <dd>Create the default task of an Ant build script as the usage task, which explains what targets are available and what they do. </dd>
      </dl>
      <p>
        <strong>Example:</strong>
      </p>
      <code>
        <target name="usage"><br/>
        <echo><br/>
        Usage:    build target-name<br/>
        Available targets:<br/>
        target 1  - this target does blah blah blah. Don't forget to blah blah blah<br/>
        target 2  - this target does blah blah blah. <br/>
        target 3  - this target does blah blah blah. <br/>
        </echo><br/>
        </target><br/>
      </code>
      <p>
        Then at the top of the build script set the default task:
      </p>
      <code>
        <project name="project1" default="usage" basedir="."><br/>
      </code>
      <p>
        --<a href="RussFreeman.html">RussFreeman</a>
      </p>
      <hr/>
      <hr/>
      <p>
        Or... you can give all the user-level tasks description attributes, and then use ant -projecthelp.
      </p>
      <p>
        Make the default task useful... save yourself some key strokes.
      </p>
      <hr/>
      <p>
        Use <strong>ant -p</strong> to list the <strong>description</strong> attribute of each task. If those are maintained it might be enough for a simple project. If you have a huge project (and which ones aren't these days), usage sounds like a winning idea. -- <a href="RobertField.html">RobertField</a>
      </p>
      <hr/>
      <p>
        Once you have a description attribute on a task, <strong>ant -p</strong> will only list those tasks with a description; the others are hidden. *Unless*
        you use <strong>ant -p -v</strong> , which lists everything. 
      </p>
      <p>
        You can also have a <description> element under a project, which is a generic 'what this build file does'. 
      </p>
      <p>
        Overall then, there is little need for an Ant Usage Target (its a target, not a task), and only increases maintenance costs just
        like any other document that is not synchronized with the source.
      </p>
      <hr/>
      <p>
        Also, adding a <description> element enables you to provide descriptive text for the file as a whole.
      </p>
      <hr/>
      <p>
        <a href="CategoryAnt.html">CategoryAnt</a>
      </p>
    </div>
  </body>
</html>