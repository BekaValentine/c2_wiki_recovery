<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Indentation Of Parameters
      </h1>
      <p>
        <strong>Indenting parameters like code is good</strong>
      </p>
      <p>
        I often see well indented code becoming a mess when it comes to parameters. Consider this:
      </p>
      <p>
        <strong>form1:</strong>
      </p>
      <code>
        public boolean drawImage ( Image img,<br/>
        int dx1,<br/>
        int dy1,<br/>
        int dx2,<br/>
        int dy2,<br/>
        int sx1,<br/>
        int sy1,<br/>
        int sx2,<br/>
        int sy2,<br/>
        ImageObserver observer ) {<br/>
        if ( something ) {<br/>
        // do something<br/>
        } else {<br/>
        // do something else<br/>
        }<br/>
        return ok;<br/>
        }<br/>
      </code>
      <p>
        I can hardly grasp code written like above. The same method looks much more comprehensible to me: (<a href="MartinSchwartz.html">MartinSchwartz</a>)
      </p>
      <p>
        <strong>form2:</strong>
      </p>
      <code>
        public boolean drawImage (<br/>
        Image img,<br/>
        int dx1, int dy1, int dx2, int dy2,<br/>
        int sx1, int sy1, int sx2, int sy2,<br/>
        ImageObserver observer<br/>
        ) {<br/>
        if ( something ) {<br/>
        // do something<br/>
        } else {<br/>
        // do something else<br/>
        }<br/>
        return ok;<br/>
        }<br/>
      </code>
      <p>
        <em>OK, that might look marginally better, but if you comment the parameters:</em>
      </p>
      <p>
        This has the disadvantage that the indentation of the parameters is the same as of the following code. This makes it harder to grasp for some people. Consider form7.
      </p>
      <p>
        <em>Why actually making a difference between parameters and code?</em>
      </p>
      <p>
        <strong>form3:</strong>
      </p>
      <code>
        public boolean drawImage ( Image img,      // what the parameter does <br/>
        int dx1,        // what the parameter does <br/>
        int dy1,        // what the parameter does <br/>
        int dx2,        // what the parameter does      <br/>
        int dy2,        // what the parameter does<br/>
        int sx1,        // what the parameter does<br/>
        int sy1,        // what the parameter does<br/>
        int sx2,        // what the parameter does<br/>
        int sy2,        // what the parameter does<br/>
        ImageObserver observer     // what the parameter does<br/>
        ) {<br/>
        if ( something ) {<br/>
        // do something<br/>
        } else {<br/>
        // do something else<br/>
        }<br/>
        return ok;<br/>
        }<br/>
      </code>
      <p>
        <em>Then the first form is best!</em>
      </p>
      <p>
        ...so name/group the parameters according to what they do, then, like this...
      </p>
      <p>
        <strong>form4:</strong>
      </p>
      <code>
        public boolean drawImage (Image img, Rect destinationRect, Rect sourceRect, ImageObserver o)<br/>
        {<br/>
        // do something, or do something else.<br/>
        }<br/>
      </code>
      <p>
        <em>The thing I dislike about form 1 and form 3 is that the indent shift randomly pops from something like 4 characters to some </em>hugeIndent<em>. And people not only use the hugeIndent for method declarations, but for method calls, too. This completely distracts from any optical program flow and I get lost.</em> -- martin
      </p>
      <p>
        The thing I dislike about form 1, 2 and 3 is that there are too many parameters. The problem is less obvious if you have less parameters.
      </p>
      <p>
        <em>Agreed about the number of parameters. But still form 5 is bad looking, and some editors apparently format this way:</em>
      </p>
      <p>
        <strong>form5:</strong>
      </p>
      <code>
        public boolean drawImage ( Image img,<br/>
        Rect destinationRect,<br/>
        Rect sourceRect,<br/>
        ImageObserver o) {<br/>
        // do something, or do something else.<br/>
        }<br/>
      </code>
      <p>
        <strong>form6:</strong>
      </p>
      <code>
        public boolean drawImage (<br/>
        Image img,      // what the parameter does <br/>
        int dx1,        // what the parameter does <br/>
        int dy1,        // what the parameter does <br/>
        int dx2,        // what the parameter does      <br/>
        int dy2,        // what the parameter does<br/>
        int sx1,        // what the parameter does<br/>
        int sy1,        // what the parameter does<br/>
        int sx2,        // what the parameter does<br/>
        int sy2,        // what the parameter does<br/>
        ImageObserver? observer     // what the parameter does<br/>
        ) {<br/>
        if ( something ) {<br/>
        // do something<br/>
        } else {<br/>
        // do something else<br/>
        }<br/>
        return ok;<br/>
        }<br/>
      </code>
      <p>
        Agreed that form4 is the most readable, but sometimes you just can't avoid having too many parameters. form6 is what I've always used, but I haven't seen it elsewhere. -- <a href="AdamBerger.html">AdamBerger</a>
      </p>
      <p>
        I typically use form6, but indent twice (two tabs) for the parameters. -- <a href="JeffGrigg.html">JeffGrigg</a>
      </p>
      <p>
        <strong>form7:</strong>
        Is what you should use if you program java and think sun is always right. Because that's what sun says here: <a href="http://java.sun.com/docs/codeconv/html/CodeConventions.doc3.html">http://java.sun.com/docs/codeconv/html/CodeConventions.doc3.html</a>
      </p>
      <code>
        public boolean drawImage (Image img,  <br/>
        int dx1, int dy1, int dx2, int dy2, <br/>
        int sx1, int sy1, int sx2, int sy2, <br/>
        ImageObserver? observer) {<br/>
        start code;<br/>
        with this = indentation;<br/>
        }<br/>
      </code>
      <p>
        <strong>form8:</strong>
        Is what you should use if you program java, think Sun is always right, and want to produce understandable code:
      </p>
      <code>
        public boolean drawImage ( Image img,<br/>
        Rect destinationRect,<br/>
        Rect sourceRect,<br/>
        ImageObserver observer) {<br/>
        // do something, or do something else.<br/>
        }<br/>
      </code>
      <p>
        The whole problem here comes from having too many parameters. Perform the <a href="IntroduceParameterObject.html">IntroduceParameterObject</a> refactoring, and save yourself some grief. For bonus points (and compatibility):
      </p>
      <code>
        public boolean drawImage (Image img,  <br/>
        int dx1, int dy1, int dx2, int dy2, <br/>
        int sx1, int sy1, int sx2, int sy2, <br/>
        ImageObserver observer) {<br/>
        return drawImage(img, new Rect(dx1, dy1, dx2, dy2),<br/>
        new Rect(sx1, sy1, sx2, sy2, observer);<br/>
        }<br/>
      </code>
      <p>
        BTW, Sun says that Form 5 is okay, too, as long as it doesn't go too far to the right.
      </p>
      <p>
        <strong>form8a:</strong>
        I use the following variation of form8, because I think that the deeper something is
        nested, the more it should be indented -- which form8 violates, as it indents parameters that
        are <em>outside</em> the method body more than the code that is <em>inside</em>. Furthermore, I don't
        like putting each parameter on a separate line, since this uses way too much vertical space.
        So far, I came up with this compromise:
      </p>
      <code>
        public boolean drawImage (Image img, Rect destinationRect,<br/>
        Rect sourceRect, ImageObserver observer) {<br/>
        // do something, or do something else for example:<br/>
        while (!done) {<br/>
        // here we are in a new block, which is a control<br/>
        // flow issue, so i use the big indent<br/>
        doSomething(firstParam, secondParam, thirdParam,<br/>
        fourthParam); // here i just broke the line, but<br/>
        // we're still inside the same block,<br/>
        // still on the same level of control<br/>
        // flow, so i use the small indent to<br/>
        // make it obvious that this code is<br/>
        // all _inside_ the same block<br/>
        for (int i = 0; i < enough; i++) {<br/>
        doSomethingElseEntirely(firstParam, secondParam,<br/>
        thirdParam);<br/>
        }<br/>
        }<br/>
        }<br/>
      </code>
      <p>
        This is far from optimal, since if you're unlucky that style can
        produce this:
      </p>
      <code>
        public boolean drawImage (Image img, Rect destinationRect,<br/>
        Rect sourceRect, ImageObserver observer) {<br/>
        while (!done && someConditionIsFulfilled &&<br/>
        yetAnotherLongVariableName) {<br/>
        doSomething(firstParam, secondParam, thirdParam,<br/>
        fourthParam);<br/>
      </code>
      <p>
        ... which is obviously extremely unreadable and by far inferior to this:
      </p>
      <code>
        public boolean drawImage (Image img, Rect destinationRect,<br/>
        Rect sourceRect, ImageObserver observer) {<br/>
        while (!done && someConditionIsFulfilled &&<br/>
        yetAnotherLongVariableName) {<br/>
        doSomething(firstParam, secondParam, thirdParam,<br/>
        fourthParam);<br/>
      </code>
      <p>
        ... or this:
      </p>
      <code>
        public boolean drawImage (Image img, Rect destinationRect,<br/>
        Rect sourceRect, ImageObserver observer) {<br/>
        while (!done && someConditionIsFulfilled &&<br/>
        yetAnotherLongVariableName) {<br/>
        doSomething(firstParam, secondParam, thirdParam,<br/>
        fourthParam);<br/>
      </code>
      <p>
        However: I don't like to indent something outside a block (i.e. on the same syntactic/logical/conceptual level as the block itself) more than something inside the block.
      </p>
      <p>
        Suggestions?
      </p>
      <p>
        <strong>form9:</strong>
        Is what you should use if you program Lisp:
      </p>
      <code>
        (defun draw-image-p (image<br/>
        dx1 dy1 dx2 dy2<br/>
        sx1 sy1 sx2 sy2<br/>
        observer)<br/>
        (if something<br/>
        (do-something)<br/>
        (do-something-else)))<br/>
      </code>
      <p>
        Though, notice that most operations which might be named by "draw image" don't need two rectangles: they need two start points, a height, and a width - six values, not eight. -- <a href="DanielKnapp.html">DanielKnapp</a>
      </p>
      <p>
        <strong>form10:</strong>
        Is what you should use if you program Lisp and the previous example still looks ugly to you:
      </p>
      <code>
        (defun draw-image-p (image source-rect destination-rect observer)<br/>
        (if something<br/>
        (do-something)<br/>
        (do-something-else)))<br/>
      </code>
      <hr/>
      <p>
        <a href="CategoryProcessesProcedures.html">CategoryProcessesProcedures</a> <a href="CategoryCoding.html">CategoryCoding</a>
      </p>
    </div>
  </body>
</html>