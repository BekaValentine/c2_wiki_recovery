<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Python Server Plus
      </h1>
      <p>
        First, you need a box. Assuming you have a box, with Python in it, but no web server, here is a server for you:
      </p>
      <hr/>
      <code>
        #!/usr/bin/python<br/>
        # make sure the path points at your interpeter<br/>
        from SocketServer import ThreadingMixIn<br/>
        import BaseHTTPServer, CGIHTTPServer, os<br/>
        #<br/>
        os.chdir ('../web')<br/>
        #<br/>
        class ThreadingCGIServer(ThreadingMixIn,BaseHTTPServer.HTTPServer):<br/>
        pass<br/>
        import sys<br/>
        server=ThreadingCGIServer((<em>,8080),CGIHTTPServer.CGIHTTPRequestHandler)</em><br/>
        try:<br/>
        while 1:<br/>
        sys.stdout.flush()<br/>
        server.handle_request()<br/>
        except KeyboardInterrupt:<br/>
        print 'Finished.'<br/>
      </code>
      <p>
        YES, that is a complete threading server with cgi support. Should be able to handle more than a thousand connections. This version works in windows OR un*x. Thank you, <a href="SteveHolden.html">SteveHolden</a>.
      </p>
      <hr/>
      <p>
        ok, stick that in the server in the web cgi-bin. DO NOT START IT YET.
      </p>
      <p>
        Assuming your box does not yet mount a webserver, you need to give it a simple tree structure of directories. I like a simple tree if I can get away with it:
      </p>
      <code>
        /www+ <-- web pages<br/>
        +/images <- image files<br/>
        +/cgi-bin+ <- all scripts.<br/>
        +/texts <- wiki pages<br/>
      </code>
      <p>
        Now you want a wiki. There are several fine python wiki's. Wikinehesa is easy to install. Download the tarball and stick it in the web server.
      </p>
      <p>
        Put plain old html pages in /www, image files in /www/imagesscripts and their .cf files in /www/cgi-bin, and any pages for the wiki in /www/cgi-bin/texts. You might like to hack up an index.html for it to look at.
      </p>
      <p>
        Edit the .cf file, replacing the example values with your preferences. They are red in sequence, and comment lines after them explain them some. Make sure everything is owned by nobody, and the scripts are permissioned 755, and the pages are 644. You do not need to edit the scripts
      </p>
      <p>
        Then fire it up.
      </p>
      <dl>
        <dt> </dt>
        <dd>#ns./threadingserver.py</dd>
      </dl>
      <p>
        You have a server, and a wiki. Visit the index.html page and see that it is working, then click a link you thoughtfully placed there to visit your wiki. When you click on a link to the wiki script, it will default to <a href="FrontPage.html">FrontPage</a>. If there is none, it will create it containing only the invitation to contribute to the page.
      </p>
      <p>
        -- <a href="KirkBailey.html">KirkBailey</a>
      </p>
      <hr/>
      <p>
        <a href="CategoryPython.html">CategoryPython</a>
      </p>
    </div>
  </body>
</html>