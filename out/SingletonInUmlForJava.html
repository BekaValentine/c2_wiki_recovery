<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Singleton In Uml For Java
      </h1>
      <p>
        Here's a non-qualified association I don't know how to draw. Take 
        the singleton pattern as usually manifested in JDK 1.1. Usually this
        is done by either (1) a static variable in the object which defines 
        main(String[] args) or (2) a variable inside main itself. In the first case, this is an association with "ownership" semantics between two classes. In the second case, it's a dependency (dashed arrow) with ownership semantics. In either case, I don't know what the "correct" diagram is (aside from attaching a note to the association explaining things textually). 
      </p>
      <p>
        <a href="WilliamGrosso.html">WilliamGrosso</a>
      </p>
      <hr/>
      <p>
        My understanding of <a href="SingletonPattern.html">SingletonPattern</a> is that a singleton class is one where all the references to objects of that class refer to the same object. That is, it is a fact about a class itself, not about the clients of that class, nor about the program within which the class is used.
      </p>
      <p>
        Implementing that fact via a reference in a class defining main() makes some stronger statement about the lifetime of that one instance (for a particular execution, many Java systems have a lot of main()s around). For Java this stronger statement is required in some form (see <a href="JavaSingleton.html">JavaSingleton</a>).
      </p>
      <p>
        Anyway, to show in UML that a <em>class</em> is a Singleton, why not say this (in <a href="ObjectConstraintLanguage.html">ObjectConstraintLanguage</a>):
      </p>
      <code>
        ASingletonClass.allInstances->size = 1 <br/>
      </code>
      <p>
        or perhaps
      </p>
      <code>
        ASingletonClass.allInstances->size <= 1<br/>
      </code>
      <p>
        depending.
      </p>
      <p>
        More generally, create a stereotype <<Singleton>> with a constraint on it that says the same, then apply that stereotype to your class.
      </p>
      <p>
        How you then go about implementing that stereotype in some language is not, IMHO an appropriate thing to put in a model, unless that model is explicitly an ImplementationModel, of the kind discussed in <a href="SyntropyMethodology.html">SyntropyMethodology</a> and elsewhere. But then the UML isn't really strong enough to do that properly.
      </p>
      <p>
        Maybe a Booch expert could tell us if William can do what he wants using that notation, since it is more "design-y", while the UML has more of an OMT "analysis-y" feel.
      </p>
      <p>
        --<a href="KeithBraithwaite.html">KeithBraithwaite</a>
      </p>
      <hr/>
      <p>
        Why did I pick on singleton ? The answer is "It's a test case."
      </p>
      <p>
        Singleton is a conceptually simple pattern ("Reify a global") and yet, when you poke at it, it's more complicated to capture in a model than I would have expected (especially when you consider the Java 2 notion of implementing singletons via ClassLoaders). 
      </p>
      <p>
        The original question (in <a href="UmlIssuesWithQualifiedAssociation.html">UmlIssuesWithQualifiedAssociation</a>) was about the semantics of qualified associations (and the associated fringe cases). My best guess about where the semantics would get tricky is involves object ownership and lifecycle issues
        (as an aside: a caching system, where the cache is a singleton, seems to fit the 
      </p>
      <ol>
        <li>
           to * model as well). 
        </li>
      </ol>
      <p>
        <a href="WilliamGrosso.html">WilliamGrosso</a>
      </p>
      <hr/>
      <p>
        In my experience, I would say that about 75% of the time when I implement a Singleton, I wind up extending the system to have several DistinguishedInstances of which the Singleton is one. This leads me to think that if one were into modeling, the thing to model is Distinguished Instances.  --<a href="RonJeffries.html">RonJeffries</a>
      </p>
      <hr/>
      <p>
        See also <a href="TextAndGlyphsInTheUml.html">TextAndGlyphsInTheUml</a>
      </p>
    </div>
  </body>
</html>