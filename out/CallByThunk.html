<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Call By Thunk
      </h1>
      <p>
        <a href="CallByThunk.html">CallByThunk</a> is a technique for implementing <a href="ParameterPassing.html">ParameterPassing</a> where a <em>thunk</em> (a small function, usually emitted by the compiler, which returns the intended argument after doing necessary processing - see <a href="WhatIsaThunk.html">WhatIsaThunk</a>) is passed from the caller to the callee. When the callee wants to evaluate the argument, it calls the thunk which returns the value.
      </p>
      <p>
        (The returned value can be either the value or a reference; so <a href="CallByReference.html">CallByReference</a> and <a href="CallByValue.html">CallByValue</a> can be implemented on top of thunks; this distinction isn't very useful. A thunk could, I suppose, return <em>another</em> thunk; but I've never heard of that being done).
      </p>
      <p>
        Consequences:
      </p>
      <ul>
        <li>
           Much slower than either <a href="CallByReference.html">CallByReference</a> and <a href="CallByValue.html">CallByValue</a>; if for no other reason than the overhead of the function call.
        </li>
        <li>
           Can support <a href="NormalOrderEvaluation.html">NormalOrderEvaluation</a> and <a href="LazyEvaluation.html">LazyEvaluation</a>; the other forms can only support <a href="StrictEvaluation.html">StrictEvaluation</a> (unless functions or objects are passed).
        </li>
        <li>
           Often done for reasons not apparent to the programmer; such as converting pointer types or crossing some an address-space boundary.
        </li>
        <li>
           In OO and functional languages, the line between a thunk and a first-class function or object can often be blurry; see <a href="SmalltalkBlocksAreThunksInDisguise.html">SmalltalkBlocksAreThunksInDisguise</a>. (One potential difference; thunks usually are generated by the compiler, not written by hand; true thunks are seldom first-class entities).
        </li>
        <li>
           True thunks are found in <a href="AlgolSixty.html">AlgolSixty</a>. (<a href="AnswerMe.html">AnswerMe</a>: Do <a href="HaskellLanguage.html">HaskellLanguage</a> and other non-strict functional languages, or delay'd parameters in <a href="SchemeLanguage.html">SchemeLanguage</a>, use thunks?) C compilers for some versions of Windows used thunks to allow interoperability between 16- and 32-bit code.
        </li>
      </ul>
      <p>
        Note. The Algol mechanism is officially called <a href="CallByName.html">CallByName</a>; which is a <em>logical</em> parameter passing method (that describes the semantics of Algol functions). <a href="CallByThunk.html">CallByThunk</a> is the underlying <em>implementation</em> technique; <a href="CallByThunk.html">CallByThunk</a> is used for many other purposes than implementing <a href="CallByName.html">CallByName</a>.
      </p>
      <p>
        <em>Exactly. </em><a href="CallByThunk.html">CallByThunk</a> is not a <a href="ParameterPassing.html">ParameterPassing</a> mode, it's a way to implement some parameter passing modes. Nobody talks about <a href="CallByThunk.html">CallByThunk</a>, or programs in terms of <a href="CallByThunk.html">CallByThunk</a>, they talk about and program in terms of, <a href="CallByReference.html">CallByReference</a>, <a href="CallByValue.html">CallByValue</a>, <a href="CallByName.html">CallByName</a>, etc.<em></em>
      </p>
      <hr/>
      <p>
        See also <a href="ParameterPassing.html">ParameterPassing</a>, <a href="CallByReference.html">CallByReference</a>, <a href="CallByValue.html">CallByValue</a>
      </p>
      <hr/>
      <p>
        <a href="CategoryLanguageFeature.html">CategoryLanguageFeature</a>
      </p>
    </div>
  </body>
</html>