<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Adjust Comments To Fit Coding Style
      </h1>
      <p>
        "Should software be commented?" is a bit too general a question for my taste. I prefer to ask the questions "What comments are appropriate for a particular coding style?" and "What coding style should be used?"
      </p>
      <p>
        Re comments:
      </p>
      <ol>
        <li>
           In my opinion, a good comment almost always adds some value to a method.
        </li>
      </ol>
      <ol>
        <li>
           However, adding a comment and keeping it up to date also costs time and effort.
        </li>
      </ol>
      <ol>
        <li>
           A comment is only worth adding if its value outweighs its cost. This will happen in some fraction of your methods.  If you write long functions in assembly, this fraction is probably close or equal to one.  If you write small methods in Smalltalk, <a href="KentBeck.html">KentBeck</a> claims this fraction can be less than 1%.
        </li>
      </ol>
      <ol>
        <li>
           I think it is time-efficient to comment large, non-intention-revealing methods (putting aside the question of changing the method itself).
        </li>
      </ol>
      <ol>
        <li>
           I don't think it is time-efficient to comment small, intention-revealing methods, even if you think, like me, that a comment might still add some additional value (e.g. the "why" of the method, or who calls it).
        </li>
      </ol>
      <p>
        Re coding style:
      </p>
      <ol>
        <li>
           Writing small, composed (all one level), intention-revealing methods (averaging 2 to 5 lines) is a trade-off.
        </li>
      </ol>
      <ol>
        <li>
           You gain ease of change, micro-understandability (no need for comments), and long term efficiency.
        </li>
      </ol>
      <ol>
        <li>
           You lose macro-understandability (harder to trace code - see <a href="RavioliCode.html">RavioliCode</a>), it takes longer in the short term, your classes become cluttered with more methods in the short term, and to do it right you have to change methods in classes you are not focusing on at the moment.
        </li>
      </ol>
      <ol>
        <li>
           If long-term efficiency is your goal, the trade-off is a good one.
        </li>
      </ol>
      <ol>
        <li>
           However, even if you try to write small methods, it is hard to get "over the hump" and learn to ignore the nagging voice in your head that keeps pointing out the drawbacks mentioned in point #3.
        </li>
      </ol>
      <ol>
        <li>
           If you are not yet over the hump, or have no reason or desire to get over the hump, your methods may average 6 to 10 or even more lines, and mix high and low level stuff.  You may find comments are still often time-efficient.
        </li>
      </ol>
      <ol>
        <li>
           If and as you move over the hump and start to shrink and un-mix your methods, you will hopefully code fewer and fewer methods in which comments are time-efficient.
        </li>
      </ol>
      <ol>
        <li>
           One way to tell if you are "over the hump" is if adding base-class methods becomes a normal occurrence.
        </li>
      </ol>
      <hr/>
      <p>
        I can add methods to any class in the system. I don't, not usually. The cost of maintenance is just too high. So I don't quite see point 8 above. -- <a href="KentBeck.html">KentBeck</a>
      </p>
      <p>
        One benefit of small methods that isn't mentioned above is that you encounter many more opportunities for reuse. With larger methods, the temptation to cut-n-paste (instead of refactor) is greater. I personally haven't experienced any drawbacks from <a href="RavioliCode.html">RavioliCode</a>, but I've never had to maintain unfamiliar Ravioli. -- <a href="JimLittle.html">JimLittle</a>
      </p>
    </div>
  </body>
</html>