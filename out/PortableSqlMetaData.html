<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Portable Sql Meta Data
      </h1>
      <p>
        (Part of <a href="PortableSql.html">PortableSql</a>)
      </p>
      <p>
        By this I mean:
      </p>
      <ul>
        <li>
          creating, altering, deleting tables and other database objects
        </li>
        <li>
          doing queries to find out which objects exist.
        </li>
      </ul>
      <p>
        These activities tend to be very database-specific.  Although the 'create table' statement is everywhere, specific datatypes, constraints, and so on tend to be different.
      </p>
      <p>
        The major good practice I've found:
      </p>
      <ul>
        <li>
          Define your tables in XML and write code to automatically generate SQL scripts from them.  This allows you to maintain your table definitions in one place and adjust output for each database you port to.  (Note that you can also generate VBA scripts for Access or other types of scripts for other systems where SQL is not available or is not the preferred way to maintain the database.)
        </li>
      </ul>
      <p>
        <em>Can anyone post a URL to a DTD/XMLSchema and perhaps some XSLT for doing this (or the DTD itself)? This sounds like a great idea, but if one already exists, it would silly to create my own</em>
      </p>
      <ul>
        <li>
           One can also use this technique for <a href="AutomatedCodeGeneration.html">AutomatedCodeGeneration</a>, creating methods for querying by keys, updating rows, handling child tables, etc.  However, this can lead to brittleness, as any minor change to the schema may require a complete rebuild of the entire system, and may break code that is too dependent upon generated features.
        </li>
      </ul>
      <p>
        Some other points:
      </p>
      <ul>
        <li>
          Use <a href="PortableSqlDataTypes.html">PortableSqlDataTypes</a> whenever possible.
        </li>
      </ul>
      <ul>
        <li>
          Prefer varchar to char.
        </li>
      </ul>
      <ul>
        <li>
          Set standards for the length of varchar columns.
        </li>
      </ul>
      <ul>
        <li>
          Name your indexes.  Also name your constraints, triggers, and anything else to which you can attach a name--it makes it easier to drop or alter all these things.
        </li>
      </ul>
      <ul>
        <li>
          Prefix each index name with name of the table.  For many database this doesn't matter, but Oracle puts all of a user's indexes in the same namespace.
        </li>
      </ul>
    </div>
  </body>
</html>