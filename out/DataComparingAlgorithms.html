<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Data Comparing Algorithms
      </h1>
      <p>
        Here is a general algorithm for comparing two similar tables (or copies of tables). 
      </p>
      <code>
        for r = each record of t1 not in t2  // based on primary key<br/>
        display record<br/>
        end-for<br/>
      </code>
      <code>
        for r = each record of t2 not in t1<br/>
        display record<br/>
        end-for<br/>
      </code>
      <code>
        for key = each record common to both<br/>
      </code>
      <code>
        r1 = getRecord(t1, key)<br/>
        r2 = getRecord(t2, key)<br/>
      </code>
      <code>
        for each attribute in r1 not in r2<br/>
        display key, attribute, and value <br/>
        end-for  <br/>
      </code>
      <code>
        for each attribute in r2 not in r1<br/>
        display key, attribute, and value     <br/>
        end-for  <br/>
      </code>
      <code>
        for attr = each attribute in r1<br/>
        if r1[attr] not-equal-to r2[attr]<br/>
        display key, attribute, r1[attr], r2[attr]<br/>
        end-if<br/>
        end-for<br/>
      </code>
      <code>
        end-for<br/>
      </code>
      <hr/>
      <p>
        <strong>Trees</strong>
      </p>
      <p>
        One technique for comparing trees is to print them as text, and then use text-based difference finders common in most operating systems. Use recursion to create the outline-like format, and perhaps disable white-space sensativity so that different levels won't be over-emphasized. You may want to try it with and without the full node path, as each will emphasize different kinds of changes. Here is a pre-differenced sample text file:
      </p>
      <code>
        node 1 foo=7 bar=9<br/>
        ..node 1.2 foo=12 bar=7<br/>
        ..node 1.3 foo=9<br/>
        node 2 bar=6<br/>
        ..node 2.1 foo=12<br/>
        ....node 2.1.1 foo=12 bar=99<br/>
        ..node 2.2 bar=786  <br/>
      </code>
      <p>
        (Dots used to prevent <a href="TabMunging.html">TabMunging</a>, but may not otherwise be needed in actual file.)
      </p>
    </div>
  </body>
</html>