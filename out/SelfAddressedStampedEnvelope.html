<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Self Addressed Stamped Envelope
      </h1>
      <p>
        <a href="CategoryPattern.html">CategoryPattern</a>:
      </p>
      <hr/>
      <p>
        <strong>Pattern Name</strong>
        Self-Addressed Stamped Envelope (wiki has problems with hyphens)
      </p>
      <p>
        <strong>Intent</strong>
      </p>
      <p>
        Define a context-free way to notify an object of the occurrence of an event.
      </p>
      <p>
        <strong>Also Known as</strong>
      </p>
      <p>
        SASE (<a href="CategoryAcronym.html">CategoryAcronym</a>), Callback
      </p>
      <p>
        <strong>Motivation</strong>
      </p>
      <p>
        Sometimes you want to arrange ahead of time to have a message sent to an object whenever some 'event' occurs without having the object that triggered the 'event' know about the receiver of the message or the details of the message.
        For instance, in a windowing system you will often want to have an application respond to button presses or mouse clicks by having the application register a message with the button or view so that when the event occurs, the message is sent.
        The pattern is called SASE because of the analogy to sending a self-addressed, stamped envelope to a recipient with the understanding that the recipient will send back the envelope whenever an event occurs. For example, you may want to send a SASE to contest promoters with the understanding they will return it when the winners of the contest are known.
      </p>
      <p>
        <strong>Applicability</strong>
      </p>
      <p>
        Use SASE when
      </p>
      <ul>
        <li>
           you want objects to respond to the occurrence of an event in a way they define
        </li>
        <li>
           you don't want to force receivers of a message to conform to a specific protocol
        </li>
        <li>
           you don't want to waste time sorting through useless notifications. (as sometimes happens in classic changed/update)
        </li>
      </ul>
      <p>
        <strong>Participants</strong>
      </p>
      <ul>
        <li>
           <strong>receiver</strong> registers the message with the sender object.
        </li>
        <li>
           <strong>sender</strong> sends back the SASE whenever the event occurs.  The sender may also trigger the event in response to a message send or state change.  Often a sender will keep track of many SASE's for many different events and send along the appropriate SASE for each event.
        </li>
        <li>
           <strong>message</strong> may not actually be a first class object.  Any pairing of a receiver and a message selector will work as long as the language supports <em>perform:</em> semantics.
        </li>
      </ul>
      <p>
        <strong>Collaborations</strong>
      </p>
      <ul>
        <li>
           the receiver notifies the sender to notify it by sending itself, along with a message selector and the event name to the sender.
        </li>
        <li>
           whenever the sender receives a trigger message for a particular event, it sends the messages associated with that event.
        </li>
      </ul>
      <p>
        <strong>Known Uses</strong>
      </p>
      <ul>
        <li>
           The Smalltalk/V Event system is an implementation of SASE.  In Smalltalk/V, a class registers the events it can trigger, while receivers inform the instances of that class to notify them whenever an event occurs with the #when:send:to: message.
        </li>
        <li>
           Callbacks in IBM Smalltalk are also implementations of SASE.  
        </li>
        <li>
           onChangeSend:to: in <a href="VisualWorks.html">VisualWorks</a> is an implementation of SASE.
        </li>
      </ul>
      <p>
        <strong>Related Patterns</strong>
      </p>
      <p>
        SASE is very closely related to <a href="CommandPattern.html">CommandPattern</a>.
      </p>
      <p>
        <a href="AmericanCulturalAssumption.html">AmericanCulturalAssumption</a>: In the pre-internet days you could request information from a business by sending them an empty envelope with a stamp and your address on it. They would stuff the envelope with their crud and mail it back to you.
      </p>
      <p>
        <em>Why is this an </em><a href="AmericanCulturalAssumption.html">AmericanCulturalAssumption</a>?  In the pre-internet days I have sent SASE's (with international postage no less) from the US to the UK for similar offers.<em></em>
        <em>In the UK it was normally written SAE - Stamped, Addressed Envelope.</em>
      </p>
    </div>
  </body>
</html>