<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Command Line History
      </h1>
      <p>
        I use the <a href="CommandLine.html">CommandLine</a> often in most of my interactions with Unix/Linux and Windows machines (What else is there? <a href="PlanNine.html">PlanNine</a>).
      </p>
      <p>
        My preferred shell is <strong>bash</strong> and I have told it in my <strong>.profile</strong> to maintain a rather large history file - the last 4000 commands.
      </p>
      <code>
        #> grep HIST .profile # -- produced this result:<br/>
        HISTFILE=$HOME/History/$HostName$tickenv     # tickenv was a variable used per ticket in our trouble ticket tracking system -- past tense because it no longer tracks thanks to junior staff who had no idea of <a href="UnitTests.html">UnitTests</a><br/>
        HISTFILESIZE=4000<br/>
        HISTSIZE=4000<br/>
        export HISTFILE HISTFILESIZE HISTSIZE<br/>
      </code>
      <ol>
        <li>
           <a href="WikiGnome.html">WikiGnome</a>s, please give me a day or three to flesh out this code, but go right ahead and refactor <a href="CategoryHistory.html">CategoryHistory</a> and <a href="CategoryDataMining.html">CategoryDataMining</a>. -- <a href="ChrisGarrod.html">ChrisGarrod</a>
        </li>
      </ol>
      <p>
        With the thousands of lines of history on a variety of hosts (various architectures), I can examine where I have used some function, and the several commands that follow it. For example: I have a function that searches my wiki for files which contain a string in their title. Given the list, I might then edit all of them, or add a line to one of them, or use one as a target for <strong>make</strong>, <strong>cat</strong>, <strong>view</strong>, <em>et cetera</em>.
      </p>
      <p>
        I am seeing some recurring patterns. The most common involves <a href="SelectOne.html">SelectOne</a> of the pages, in a loop, add a bunch of lines to it, edit it, and view it in the browser <strong>open</strong> the URL when I'm in a Mac terminal window.
      </p>
      <p>
        When our trouble ticket tracking system was working, the saved history helped me continue efforts to resolve the trouble tickets even after reboots with <strong>!!</strong> or (my memory was better in those days) <strong>!<em>x</em></strong> where <em>x</em> was some letter that began the command that had become one of my <a href="UnitTest.html">UnitTest</a>s.
      </p>
      <hr/>
      <p>
        <em>One missing piece of information in the </em><a href="CommandLineHistory.html">CommandLineHistory</a> is the path where the command was executed. I often like to filter by the directory where the command was executed. Or follow the directory changes.  <em></em>
      </p>
      <p>
        I have coded that into my prompt, so that it can be pasted as the next command -- here or in another window.  This is demonstrated here and described better in <a href="ComplicatedPrompt.html">ComplicatedPrompt</a> -- note that the prompt ends with <strong>&& </strong>
      </p>
      <code>
        # 00:50:14 garrod@humu 1.69 $ cd /net/logs && set | grep ^PS<br/>
        PS1='\n# \t \u@\h 1.\# \$ cd \w && '<br/>
        PS2=$'\t'<br/>
        PS3=$'Pick a number:\t'<br/>
        PS4='+ '<br/>
        # 00:50:45 garrod@humu 1.70 $ cd /net/logs && cd<br/>
        # 00:50:46 garrod@humu 1.71 $ cd ~ && <br/>
      </code>
      <p>
        See <a href="ComplicatedPrompt.html">ComplicatedPrompt</a> 
      </p>
      <hr/>
      <p>
        <a href="CategoryDataMining.html">CategoryDataMining</a>
      </p>
    </div>
  </body>
</html>