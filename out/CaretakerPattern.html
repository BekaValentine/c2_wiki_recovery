<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Caretaker Pattern
      </h1>
      <p>
        Described in <a href="ParadigmRegained.html">ParadigmRegained</a>.
      </p>
      <p>
        A variant on the <a href="HandleBodyPattern.html">HandleBodyPattern</a> (a.k.a. <a href="WrapperPattern.html">WrapperPattern</a>); grants a capability by transparently forwarding messages to a specified receiver (the body), for the purpose of making the capability revocable (for example by later setting its reference to the wrapped receiver to null).
      </p>
      <ul>
        <li>
           For this to work, the client must not be able to discover a pointer to the body object; only to the caretaker object.  (Which can be harder to enforce in practice than it sounds).
        </li>
        <li>
           In this paper (and in many other uses), the wrapping is transparent, and the body object is unaware that the caretaker even exists, and so does not have even a pointer to the caretaker. This is just a clarification, which does not argue with your main point.
        </li>
      </ul>
      <p>
        Normally the caretaker has an interface separate from its forwarding interface, that is used to trigger the revocation.
      </p>
      <p>
        If the system uses permission flags, the caretaker can restrict which permissions are allowed rather than supporting only all-or-nothing revocation. This effectively combines the caretaker with the handle object in <a href="FacetPattern.html">FacetPattern</a>.
      </p>
      <p>
        The authors of <em></em><a href="ParadigmRegained.html">ParadigmRegained</a><em> (the esteemed </em>MarkMiller and JonathanShapiro) consider <a href="CaretakerPattern.html">CaretakerPattern</a> to invalidate the argument that capability revocation is infeasible.
      </p>
      <p>
        Originally discussed in D. D. Redell, <em>Naming and Protection in Extendible Operating Systems</em>, Project MAC TR-140, MIT, November 1974. (Ph. D. thesis.)
      </p>
      <hr/>
      <p>
        I've used a variation on the <a href="CaretakerPattern.html">CaretakerPattern</a>...where the purpose is not capability revocation, but client ID.  In a project I worked on, there was an architecture similar to <a href="ModelViewController.html">ModelViewController</a>, with multiple controllers.  It was useful to know which controller was invoking the model; however the model already had a published API that I didn't want to change (at least not in the application code).  So I created a set of "client ID" objects which were essentially proxies for the model; each controller had a unique "client ID" object and invoked the API through that.  The client ID object, when delegating to the actual model, included a pointer to itself in the API call; so that the model knew which controller was calling it.  Different controllers had different access levels, and this also allowed filtering of the callbacks to the associated views.
      </p>
      <ul>
        <li>
           This is clearly some kind of <a href="HandleBodyPattern.html">HandleBodyPattern</a>, but is it actually a <a href="CaretakerPattern.html">CaretakerPattern</a>?
        </li>
      </ul>
      <p>
        Not sure if that pattern deserves its own name or not.
      </p>
      <p>
        <em>This approach is also used in capability systems, when you want an object to be separately revocable for different clients.</em>
      </p>
      <hr/>
      <p>
        Is there generally considered to exist a subclass of the <a href="CaretakerPattern.html">CaretakerPattern</a>, called <a href="DataAccessObject.html">DataAccessObject</a>?
      </p>
      <hr/>
      <p>
        Comment moved to <a href="RevokableCapabilities.html">RevokableCapabilities</a> -- has nothing to do with <a href="CaretakerPattern.html">CaretakerPattern</a> that I can see. -- RK
      </p>
      <hr/>
      <p>
        See also: <a href="CapabilitySecurityModel.html">CapabilitySecurityModel</a>, <a href="CapabilityOrientedProgramming.html">CapabilityOrientedProgramming</a>
      </p>
      <hr/>
      <p>
        <a href="CategorySecurityPatterns.html">CategorySecurityPatterns</a>
      </p>
    </div>
  </body>
</html>