<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Common Build Environment
      </h1>
      <p>
        The opposite of the situation where each developer has different libraries, build tools, and compile scripts on their workstation.
      </p>
      <p>
        See <a href="DailyBuild.html">DailyBuild</a>s, <a href="AutomatedConfigurationManagementEnvironment.html">AutomatedConfigurationManagementEnvironment</a>, and <a href="ContinuousOutegration.html">ContinuousOutegration</a>.
      </p>
      <p>
        Let's start a list of <a href="BestPractice.html">BestPractice</a>s. All these items are under the <em>caveat</em> "modulo whatever obvious circumstance prevents them..."
      </p>
      <ul>
        <li>
           All KnowledgeWorkers keep the project's source on the same drive letter (mounted as <em>Z:\</em>, or <em>~/src</em>, for example), and they keep the source in a tree with the same folder names under that drive.
        </li>
      </ul>
      <ul>
        <li>
           No build scripts should ever rely on the absolute path of the source/project files. Such things will <em>always</em> change - in which case you'll want to know that your scripts don't have any hardcoded paths. <a href="KeepItSimpleStupid.html">KeepItSimpleStupid</a> (i.e. use relative paths and don't care where the sources are put)
        </li>
      </ul>
      <p>
        Notice the first two bullet points do not contradict each other. Any more?
      </p>
      <hr/>
      <p>
        I suspect some teams never have trouble here, while others make bad decisions early and pollute their environments in ways that are hard to reverse.
      </p>
      <hr/>
      <ul>
        <li>
           All of the tools (compilers, etc.) required to transform the project source code into a running application are available to all developers. The version (or acceptable range of versions) of these tools used is defined. Attempts to build the project with a different version are detected.
        </li>
      </ul>
      <ul>
        <li>
           No build script contains machine names. Host names in build scripts are an <a href="AntiPattern.html">AntiPattern</a> that indicates your project will be in danger when "The Build Machine" fails or has its configuration changed in some subtle way. Exception: localhost
        </li>
      </ul>
      <ul>
        <li>
           Alternately, only allow machine aliases.  For instance, put the word "dbserv" in your build scripts, but make "dbserv" an alias to your database server, real name "fatdisk".  When fatdisk dies, move the dbserv alias to "fatdisk2", which serves a back-up database.  Use DNS (or your other naming scheme) 
        </li>
      </ul>
      <ul>
        <li>
           Or arrange so the machine names are replaceable variables. Demonstrate it works by making an alternate build machine.
        </li>
      </ul>
    </div>
  </body>
</html>