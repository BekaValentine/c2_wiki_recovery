<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Cuddled Else Blocks
      </h1>
      <p>
        [Moved from <a href="UncuddledParagraphs.html">UncuddledParagraphs</a> because that page was intended to be about formatting email message text and <em>not</em> source code. Feel free to discuss the source code formatting issues here]
      </p>
      <p>
        The term "cuddled" comes from GNU and Perl code-formatting
        terminology. In an "if-then-else" statement, the following are
        examples of "cuddled" and "uncuddled" <strong>else</strong>s in C:
      </p>
      <code>
        |   /* cuddled "else" */    |   /* uncuddled "else" */<br/>
        |   if (x > 0) {            |   if (x > 0) {<br/>
        |      x += y;              |      x += y;<br/>
        |   } else {                |   }<br/>
        |      y += x;              |   else {<br/>
        |   }                       |      y +=x;<br/>
        |   }<br/>
      </code>
      <hr/>
      <p>
        There are two competing forces that need balancing.
        The first is the reader's need to see maximal context in limited vertical
        space. One way of resolving this force leads to cuddling code blocks and
        eliminating vertical whitespace.
        The second force is the reader's need to quickly distinguish paragraphs
        of code. One way of resolving this force is to uncuddle code blocks and
        add vertical whitespace.
      </p>
      <p>
        How to best resolve these competing forces seems to me to be highly subjective.
        I don't find the cuddled fragment above to be significantly more legible 
        than the uncuddled fragment. --<a href="DaveSmith.html">DaveSmith</a>
      </p>
      <hr/>
      <p>
        Actually, the GNU styleguide would have you write that code
        <em>with each brace on a separate line</em>:
      </p>
      <code>
        |   /* GNU-style uncuddled "else" */<br/>
        |   if (x > 0)<br/>
        |     {<br/>
        |        x += y;<br/>
        |     }<br/>
        |   else<br/>
        |     {<br/>
        |        y += x;<br/>
        |     }<br/>
      </code>
      <p>
        (Except for single-line bodies they would recommend that you omit the braces because it looks silly.)  Again, I don't find it any more or less clear, it's just different -- I think part of the reason is to prove Gnu's Not Unix. -- <a href="MartinPool.html">MartinPool</a>
      </p>
      <hr/>
      <p>
        See also "<a href="BadCodingStandards.html">BadCodingStandards</a>," for more comments on blocks of code.
      </p>
    </div>
  </body>
</html>