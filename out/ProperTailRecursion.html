<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Proper Tail Recursion
      </h1>
      <p>
        <strong>[Moved here from </strong><a href="ProperTailCall.html">ProperTailCall</a> -- although in fact "proper tail call" is a more accurate name.]<strong></strong>
      </p>
      <p>
        Standard-compliant implementations of the <a href="SchemeLanguage.html">SchemeLanguage</a> are required to support "proper <a href="TailRecursion.html">TailRecursion</a>", i.e. they have to support an unbounded number of active TailCalls.
      </p>
      <p>
        See William D. Clinger's paper, <em>Proper tail recursion and space efficiency</em> (<a href="http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.50.4500)">http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.50.4500)</a> for a more formal definition.
      </p>
      <p>
        Quoting:
      </p>
      <dl>
        <dt> </dt>
        <dd><em>Proper tail recursion is not the same as ad hoc </em><a href="TailCallOptimization.html">TailCallOptimization</a> in stack-based languages. Proper tail recursion often precludes stack allocation of variables, but yields a well-defined asymptotic space complexity that can be relied upon by portable programs.<em></em></dd>
      </dl>
      <dl>
        <dt> </dt>
        <dd><em>The essence of proper tail recursion is that a procedure can return by performing a tail call to any procedure, including itself.</em></dd>
      </dl>
      <dl>
        <dt> </dt>
        <dd><em>A tail call does not cause an immediate return, but passes the responsibility for returning from the procedure that performs the tail call to the procedure it is calling. In other words, the activation of a procedure extends from the time that it is called to the time that it performs either a return or a tail call.</em></dd>
      </dl>
      <hr/>
      <p>
        Quoting R5RS (see <a href="RevisedReportOnAlgorithmicLanguageScheme.html">RevisedReportOnAlgorithmicLanguageScheme</a>):
      </p>
      <p>
        <em>Intuitively, no space is needed for an active tail call because the continuation </em>(see <a href="ContinuationExplanation.html">ContinuationExplanation</a> and <a href="ContinuationPassingStyle.html">ContinuationPassingStyle</a>)<em> that is used in the tail call has the same semantics as the continuation passed to the procedure containing the call. Although an improper implementation might use a new continuation in the call, a return to this new continuation would be followed immediately by a return to the continuation passed to the procedure. A properly tail-recursive implementation returns to that continuation directly.</em>
      </p>
      <p>
        <em>Proper tail recursion was one of the central ideas in </em><a href="GuySteele.html">GuySteele</a> and <a href="GeraldSussman.html">GeraldSussman</a>'s original version of Scheme. Their first Scheme interpreter implemented both functions and actors <em>(see </em><a href="ActorsModel.html">ActorsModel</a>)<em>. Control flow was expressed using actors, which differed from functions in that they passed their results on to another actor instead of returning to a caller. In the terminology of this section, each actor finished with a tail call to another actor.</em>
      </p>
      <p>
        <em>Steele and Sussman later observed that in their interpreter the code for dealing with actors was identical to that for functions and thus there was no need to include both in the language.</em>
      </p>
      <hr/>
      <p>
        Version 5.0 introduced <a href="ProperTailCall.html">ProperTailCall</a>s to the <a href="LuaLanguage.html">LuaLanguage</a>.
      </p>
      <hr/>
      <p>
        <a href="ColorForth.html">ColorForth</a> has <a href="TailCallOptimization.html">TailCallOptimization</a>, and as with Scheme encourages using <a href="ProperTailRecursion.html">ProperTailRecursion</a> to implement loops. 
      </p>
      <hr/>
      <p>
        <a href="CategoryLanguageFeature.html">CategoryLanguageFeature</a> <a href="CategoryScheme.html">CategoryScheme</a>
      </p>
    </div>
  </body>
</html>