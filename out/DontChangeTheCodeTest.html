<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Dont Change The Code Test
      </h1>
      <p>
        Does it seem impossible to automatically <a href="UnitTest.html">UnitTest</a> that one bit of code? Or, if it's possible, does it not seem cost-effective? Well, if you run plum out of ideas, there's always the "Don't Change The Code" Test:
      </p>
      <ol>
        <li>
           Pare down the amount of untestable code as much as possible.
        </li>
        <li>
           Take that small bit, and manually verify its results.
        </li>
        <li>
           Create a test assertion that has:
          <ol>
            <li>
               Some mechanism to detect if anyone changes the code (string comparison, datestamp comparison, MD5Sum comparison, etc.)
            </li>
            <li>
               Any expectations you have for the code inside the "test failed" message.
            </li>
          </ol>
        </li>
      </ol>
      <p>
        Situations where this has successfully been used:
      </p>
      <ul>
        <li>
           SQL - For some evil database interactions, our DBAs create SQL appropriate for doing a task, and the programmers are generally told to avoid tinkering with it (sometimes the SQL has optimizations, other times it's just plain fragile). To keep anything from breaking, I paste the SQL in two places, one: the actual source, and two: the unit test assertion that fails with a message, "You should talk to so-and-so if you're going to change this SQL".
        </li>
        <li>
           HTML - A web-designer will sometimes craft a piece of HTML that looks right under all supported browsers, but can break in subtle ways. Instead of codifying those subtle ways into subtle unit tests, it might be better to just add a <a href="DontChangeTheCodeTest.html">DontChangeTheCodeTest</a>.
        </li>
        <li>
           <a href="JavaScript.html">JavaScript</a> - Same deal. Just make sure you follow step #1 (pare down the amount of <a href="JavaScript.html">JavaScript</a> as much as possible).
        </li>
        <li>
           <a href="NoTestsYetTest.html">NoTestsYetTest</a> - For untested legacy code (I suppose "untested" and "legacy" are redundant).
        </li>
      </ul>
      <p>
        Situations where this would probably be successful (if you've actually done this, and liked it, please move the items you have experience up to the previous list):
      </p>
      <ul>
        <li>
           GUIs, other graphics - Though, these might be better if you take a snapshot of the <em>results</em> of the code rather than the code itself.
        </li>
        <li>
           Security - If you have some code that has to be a certain way or else it's insecure, first try to figure out a <a href="SourceTest.html">SourceTest</a>. If you can't figure that out, I guess a <a href="DontChangeTheCodeTest.html">DontChangeTheCodeTest</a> would be a reasonable stopgap.
        </li>
        <li>
           <a href="UnitTestingNonDeterministicCode.html">UnitTestingNonDeterministicCode</a>
        </li>
      </ul>
      <hr/>
      <p>
        <a href="CategoryTesting.html">CategoryTesting</a>
      </p>
    </div>
  </body>
</html>