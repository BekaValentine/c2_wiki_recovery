<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Commit Rollback Database Auto Tests
      </h1>
      <p>
        When you test with <a href="TestFixture.html">TestFixture</a>s, on database-facing code, you need light fast database records.
      </p>
      <p>
        <img src="http://www.zeroplayer.com/images/stuff/model_view_controller.png" />
      </p>
      <p>
        Test cases use database records like the beads in the left panel (from <a href="ModelViewController.html">ModelViewController</a>); smaller beads are leaf records. As tests run, the records must flicker in and out. Some tests might test the database is naively empty, and so on.
      </p>
      <p>
        Each test case...
      </p>
      <ul>
        <li>
           begin a transaction with the database
        </li>
        <li>
           execute one test case
        </li>
        <li>
           lower level commits get rolled back.
        </li>
        <li>
           on to next test case in microseconds
        </li>
      </ul>
      <p>
        In all my decades coding have not yet seen that work correctly in auto test runners. Because...
      </p>
      <p>
        <em>You can't change transaction isolation levels with a transaction open.</em>
      </p>
      <p>
        [I don't think that's it.  I can't speak for other code, but the <a href="RelProject.html">RelProject</a> successfully uses extensive tests like the above -- nearly 500 at last count.]
      </p>
    </div>
  </body>
</html>