<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Misnamed Interfaces
      </h1>
      <p>
        Problem: You found out that the name of a frequently-used interface is poorly chosen.
      </p>
      <p>
        Potential Solutions:
      </p>
      <ul>
        <li>
           Find all references and change them all
          <ul>
            <li>
               Pro: Fixes problem if all occurrences found
            </li>
            <li>
               Con: We may miss some occurrences, resulting in crashes
            </li>
          </ul>
        </li>
        <li>
           Leave it alone and make a note somewhere that has the good meaning.
        </li>
      </ul>
      <hr/>
      <p>
        (Based on a usenet discussion. Will clean on a later date.)
      </p>
      <code>
        > >>This sort of situation is actually rather common at the enterprise<br/>
        > >>level.<br/>
        > ><br/>
        > ><br/>
        > > Changing names of columns but keeping the semantics is extremely rare,<br/>
        > > just because it breaks the interface to the applications.<br/>
        ><br/>
        > So do all changes to enterprise schemas, which is why /any/ change to<br/>
        > such a schema is a big deal. The DBA already had to change the schema<br/>
        > to provide burdenedSalary and chose that opportunity to clean up the<br/>
        > semantics.<br/>
      </code>
      <p>
        Perhaps I missed the purpose of this debate, but changing the name of *any* interface in any paradigm or language can result in headaches. We use names to reference things. If 50 other applications or routines or classes refer to "fooSalary" and we later realize that it should have been called "barSalary", then we are faced with a *universal* dilemma of whether to hunt down and change all 50 references, or leave it with a bad name. This is not a problem unique to databases.
      </p>
      <p>
        I generally suggest leaving it with the bad name and putting a note in the schema (if provided) or routine or class about the actual nature of the misnamed thing. If you try to hunt down all references, you may miss some and your boss will be pissed when things break.
      </p>
      <p>
        The only universal way around this dilemma that I see is to use "dumb keys", names that carry no meaning and so can't have the wrong meaning by design. However, it is hard to conceptual work with variables and interfaces with names like "A348282" and "SDFASD".
      </p>
      <p>
        -- top
      </p>
      <hr/>
      <p>
        The <a href="OpenSource.html">OpenSource</a> method for renaming a published interface is to use <strong>deprecation</strong> and time to heal the wound.
      </p>
      <p>
        First, release the new renamed interface and mark the old one as deprecated, so you get warnings when you use it. Also remove references to the old interface from any documentation. This prevents new code from using the old interface.
      </p>
      <p>
        Then use as much time as you require to incrementally move all uses of the old interface to the new interface.
      </p>
      <p>
        Periodically send out feelers to check whether the old interface has completely withered.  When it has, you can finally make a release that removes the deprecated interface altogether.
      </p>
      <p>
        <em>As far as DB schemas, if DB's allwed column-level views, not just table views, then perhaps one could create a synonym and then slowly change it over time as you work on various apps for *other* purposes. This is the "under the radar" approach that won't anger your boss, and allows you to test each change more carefully because you have to test it for other changes anyhow. --top</em>
      </p>
      <hr/>
      <p>
        <a href="CategoryInterface.html">CategoryInterface</a>, <a href="CategoryNaming.html">CategoryNaming</a>
      </p>
    </div>
  </body>
</html>