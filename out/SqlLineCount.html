<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Sql Line Count
      </h1>
      <p>
        There are several different ways to count the number of <a href="LinesOfCode.html">LinesOfCode</a> in <a href="StructuredQueryLanguage.html">StructuredQueryLanguage</a>.
      </p>
      <hr/>
      <p>
        Here is the SQL example from the <a href="ManyToManyChallenge.html">ManyToManyChallenge</a>.  [<a href="DeleteMe.html">DeleteMe</a>:  Some spaces have been deleted for consistency; the number of lines has not been changed.]
      </p>
      <code>
        CREATE TABLE Users <br/>
        ( user_id INTEGER NOT NULL PRIMARY KEY, <br/>
        username VARCHAR NOT NULL,<br/>
        CONSTRAINT UNIQUE (username));<br/>
      </code>
      <code>
        CREATE TABLE Groups <br/>
        ( group_id INTEGER NOT NULL PRIMARY KEY,<br/>
        group_name VARCHAR,<br/>
        CONSTRAINT UNIQUE (group_name));<br/>
      </code>
      <code>
        CREATE TABLE r_user_groups (<br/>
        user_id INTEGER NOT NULL,<br/>
        group_id INTEGER NOT NULL,<br/>
        CONSTRAINT PRIMARY KEY (user_id, group_id),<br/>
        CONSTRAINT FOREIGN KEY (user_id) REFERENCES users ON DELETE CASCADE ON UPDATE CASCADE,<br/>
        CONSTRAINT FOREIGN KEY (group_id) REFERENCES groups ON DELETE CASCADE ON UPDATE CASCADE<br/>
        )<br/>
      </code>
      <code>
        CREATE INDEX r_user_groups_idx1 ON r_user_groups (group_id);<br/>
      </code>
      <p>
        If a complete SQL query is considered to be a line of code,
        this example has 4 lines of code.
      </p>
      <p>
        If the code is formatted as shown above,
        and each non-blank line as formatted is considered to be a line of code,
        this example has 16 lines of code.
      </p>
      <hr/>
      <p>
        If each constraint or action is formatted on its own line, the code looks like this:
      </p>
      <code>
        CREATE TABLE Users <br/>
        ( user_id    INTEGER <br/>
        NOT NULL <br/>
        PRIMARY KEY, <br/>
        username   VARCHAR <br/>
        NOT NULL,<br/>
        CONSTRAINT UNIQUE (username));<br/>
      </code>
      <code>
        CREATE TABLE Groups <br/>
        ( group_id   INTEGER <br/>
        NOT NULL <br/>
        PRIMARY KEY,<br/>
        group_name VARCHAR,<br/>
        CONSTRAINT UNIQUE (group_name));<br/>
      </code>
      <code>
        CREATE TABLE r_user_groups (<br/>
        user_id  INTEGER <br/>
        NOT NULL,<br/>
        group_id INTEGER <br/>
        NOT NULL,<br/>
        CONSTRAINT PRIMARY KEY (user_id, group_id),<br/>
        CONSTRAINT FOREIGN KEY (user_id) <br/>
        REFERENCES users <br/>
        ON DELETE CASCADE <br/>
        ON UPDATE CASCADE,<br/>
        CONSTRAINT FOREIGN KEY (group_id) <br/>
        REFERENCES groups <br/>
        ON DELETE CASCADE <br/>
        ON UPDATE CASCADE<br/>
        )<br/>
      </code>
      <code>
        CREATE INDEX r_user_groups_idx1 <br/>
        ON r_user_groups (group_id);<br/>
      </code>
      <p>
        If a complete SQL query is considered to be a line of code,
        this example still has only 4 lines of code.
      </p>
      <p>
        If the code is formatted as shown above,
        and each non-blank line as formatted is considered to be a line of code,
        this example has 30 lines of code.
      </p>
      <hr/>
      <p>
        I prefer to have much of the schema setups in meta-data (See <a href="DataDictionary.html">DataDictionary</a>) and use a GUI tool and/or table browser rather than code for such. In fact, I think that is how it is usually stored. Code is just one representation. See <a href="CodeAvoidance.html">CodeAvoidance</a>.
      </p>
      <hr/>
      <p>
        See also: <a href="ManyToManyChallenge.html">ManyToManyChallenge</a>, <a href="SemiColon.html">SemiColon</a>, <a href="LinesOfCode.html">LinesOfCode</a>
      </p>
      <hr/>
      <p>
        <a href="CategoryMetrics.html">CategoryMetrics</a>
      </p>
    </div>
  </body>
</html>