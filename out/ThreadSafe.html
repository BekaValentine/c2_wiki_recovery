<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Thread Safe
      </h1>
      <p>
        Code is <a href="ThreadSafe.html">ThreadSafe</a> if it has the desired result when multiple threads are executing it concurrently.
      </p>
      <hr/>
      <p>
        <em>How can this be achieved ?</em>
      </p>
      <p>
        By using semaphores and locks so only one thread is modifying any piece of data at a time, and no reads occur during writes.
      </p>
      <p>
        Or, write in a <a href="ThreadSafeLanguage.html">ThreadSafeLanguage</a>.
      </p>
      <hr/>
      <p>
        Ways to make code <a href="ThreadSafe.html">ThreadSafe</a> in a thread-vicious language:
        <a href="http://groups.google.com/groups?hl=fr&selm=2000-03-05-02-59.0%40chch.demon.co.uk&rnum=13">http://groups.google.com/groups?hl=fr&selm=2000-03-05-02-59.0%40chch.demon.co.uk&rnum=13</a>
      </p>
      <hr/>
      <p>
        Note for the unwary:  for those used to coding on PCs, which typically have a single processor, there can be a tendency to cheat a little bit, knowing that the CPU, in reality, can only do one thing at a time.
      </p>
      <p>
        I wrote a multi-threaded serial data acquisition driver that was "<a href="ThreadSafe.html">ThreadSafe</a>" -- as long as it only ran on one CPU.
      </p>
      <p>
        When we deployed this driver (after three solid months of testing without a failure) it broke in the first two hours of use -- the target box had multiple processors.  I was at the client's site until 2:00am that night recoding the locking mechanisms to eliminate <a href="PriorityInversion.html">PriorityInversion</a>, <a href="RaceCondition.html">RaceCondition</a>, and FatalEmbrace problems that never showed up on a single processor.
      </p>
      <p>
        Safety = always assume that a condition of truly simultaneous access can occur and code accordingly.
      </p>
      <p>
        -- <a href="GarryHamilton.html">GarryHamilton</a>
      </p>
      <hr/>
      <p>
        <a href="CategoryConcurrency.html">CategoryConcurrency</a>
      </p>
    </div>
  </body>
</html>