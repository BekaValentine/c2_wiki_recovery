<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Wide Parameter Narrow Return
      </h1>
      <p>
        What (if any) criteria are there for choosing types for input parameters and return values for methods?
      </p>
      <p>
        One principle (pattern even) could be named <a href="WideParameterNarrowReturn.html">WideParameterNarrowReturn</a>:
      </p>
      <p>
        For any parameter, choose the least specific type that your usage of it allows.
      </p>
      <p>
        For the return type use the most specific type that your implementation supports
      </p>
      <p>
        Example in java:
      </p>
      <code>
        Collection removeDuplicates(Vector v){...}<br/>
      </code>
      <p>
        should be rewritten to
      </p>
      <code>
        TreeSet removeDuplicates(Collection c){...}<br/>
      </code>
      <hr/>
      <p>
        <strong>Pros:</strong>
        It will be easier for you to reuse the method some other time because you will be able to removeDuplicates from, say, an ArrayList without rewriting the method. Similarly if you happen to need a TreeSet in the place where you use the method you will not have to construct a new one.
      </p>
      <hr/>
      <p>
        <strong>Cons:</strong>
        If your implementation changes you might have to write strange code in order not to break code that already uses your method.
      </p>
      <p>
        In fact this might even be enough to adopt the opposite principle NarrowParameterWideReturn or at least UseWideReturnTypes
      </p>
      <hr/>
      <p>
        So there seems to be a conflict here. Did anybody think this through?
      </p>
      <p>
        <em>Yes, many people have thought it through but since we are not dealing with truths there are differing opinions (surprisingly, as </em><a href="LucaCardelli.html">LucaCardelli</a> says, see <a href="http://sern.ucalgary.ca/courses/SENG/609.03/W98/Abadi/AbadiCh2.html#2.6).">http://sern.ucalgary.ca/courses/SENG/609.03/W98/Abadi/AbadiCh2.html#2.6).</a> The case for narrow return is easily understood but the wide (=contravariant) parameter is not so clear.<em> --</em><a href="AndrewQueisser.html">AndrewQueisser</a>
      </p>
      <p>
        This paper deals with the technicalities of co/contravariance and I agree with the author when he states that <em>It is amazing that there is any argument</em> ;-) However, the question is not so much what the language allows but more about what is actually good practice even when no inheritance is involved. --<a href="JanLarsen.html">JanLarsen</a>
      </p>
      <p>
        <em>I guess we should stick to: "The opposite of every truth is also true."</em>  (Not everything that implies a true statement is true, and, amusingly, neither is this.)
      </p>
      <hr/>
      <p>
        see <a href="CovariantReturnTypes.html">CovariantReturnTypes</a>
      </p>
    </div>
  </body>
</html>