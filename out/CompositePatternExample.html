<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Composite Pattern Example
      </h1>
      <p>
        A simple example of using the <a href="CompositePattern.html">CompositePattern</a>:
      </p>
      <code>
        // Copyright(C) 2000 Yoshinori Oota All rights reserved.<br/>
      </code>
      <code>
        public class CompositeSample<br/>
        { <br/>
        static public void main(String args[])<br/>
        {<br/>
        /* [???]<br/>
        aComposite --aLeaf   <br/>
        --aLeaf   <br/>
        --Composite --aLeaf <br/>
        --aLeaf <br/>
      </code>
      <ul>
        <li>
          /
        </li>
      </ul>
      <code>
        Component aComponent1 = new Composite();<br/>
        Component aComponent2 = new Leaf();<br/>
        Component aComponent3 = new Leaf();<br/>
        aComponent1.AddComponent(aComponent2);<br/>
        aComponent1.AddComponent(aComponent3);<br/>
      </code>
      <code>
        Component aComponent4 = new Composite();<br/>
        Component aComponent5 = new Leaf();<br/>
        Component aComponent6 = new Leaf();<br/>
        aComponent4.AddComponent(aComponent5);<br/>
        aComponent4.AddComponent(aComponent6);<br/>
        aComponent1.AddComponent(aComponent4);<br/>
      </code>
      <code>
        // Opearation [???]<br/>
        aComponent1.Operation(); <br/>
        } <br/>
        }<br/>
      </code>
      <code>
        abstract class Component<br/>
        { <br/>
        abstract public void Operation();<br/>
        abstract public void AddComponent(Component aComponent); <br/>
        }<br/>
      </code>
      <code>
        class Leaf extends Component<br/>
        { <br/>
        public Leaf() { }<br/>
      </code>
      <code>
        public void Operation()<br/>
        { <br/>
        System.out.println("**I'm Leaf"); <br/>
        }<br/>
      </code>
      <code>
        public void AddComponent(Component aComponent) { } <br/>
        }<br/>
      </code>
      <code>
        class Composite extends Component<br/>
        { <br/>
        private Vector _components; //children<br/>
      </code>
      <code>
        public Composite()<br/>
        { <br/>
        _components = new Vector(); <br/>
        }<br/>
      </code>
      <code>
        public void Operation()<br/>
        { <br/>
        System.out.println("I'm Composite");<br/>
        Enumeration componentList = _components.elements();<br/>
        while(componentList.hasMoreElements())<br/>
        { <br/>
        // forall Component in _components<br/>
        // aComponent.Operation();<br/>
      </code>
      <code>
        Component aComponent = (Component)componentList.nextElement();<br/>
        aComponent.Operation(); <br/>
        } <br/>
        } <br/>
      </code>
      <code>
        public void AddComponent(Component aComponent)<br/>
        { <br/>
        _components.addElement(aComponent); <br/>
        } <br/>
        } <br/>
      </code>
      <hr/>
      <p>
        Graphically:
      </p>
      <p>
        <img src="http://www.javaworld.com/javaworld/jw-09-2002/images/jw-0913-designpatternsf1.jpg" />
      </p>
      <p>
        Worth noting: This is not the GOF implementation, which puts the collection methods on the component. Heated discussion on <a href="CompositeConsideredHarmful.html">CompositeConsideredHarmful</a>.
      </p>
    </div>
  </body>
</html>