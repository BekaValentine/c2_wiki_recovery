<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Collecting Parameter
      </h1>
      <p>
        In the <a href="CollectingParameter.html">CollectingParameter</a> idiom a collection (list, map, etc.) is passed repeatedly as a parameter to a method which adds items to the collection. 
      </p>
      <p>
        Example:
      </p>
      <code>
        String[] userFiles = ...<br/>
        List userList = new <a href="ArrayList.html">ArrayList</a>();<br/>
        for (int i=0; i < userFiles.length; i++) {<br/>
        addUsersTo(userFiles[i], userList);<br/>
        }<br/>
      </code>
      <code>
        public void addUsersTo(String userFileName, List userList) {<br/>
        ...<br/>
        }<br/>
      </code>
      <p>
        Another example is the <a href="TestResult.html">TestResult</a> in JUnit.
      </p>
      <p>
        See also <a href="http://www.industriallogic.com/xp/refactoring/accumulationToCollection.html">http://www.industriallogic.com/xp/refactoring/accumulationToCollection.html</a>
      </p>
      <hr/>
      <p>
        A variation on this pattern occurs when the <a href="CollectingParameter.html">CollectingParameter</a> is not a collection, but is an object with various properties.  As the object is passed around, various actors get and set properties on the <a href="ParameterObject.html">ParameterObject</a>.  I think this version of the pattern is generally an <a href="AntiPattern.html">AntiPattern</a>, but may be useful when refactoring from the use of globals.  This usage is also related to the old BidirectionalParameterPattern often used in the <a href="CeeLanguage.html">CeeLanguage</a>.
      </p>
      <hr/>
      <p>
        The practice of passing around a collecting parameter can be generalized to using a static closure, instantiating the functions that add to the collection so that they get the collector implicitly, along with a method to return the collection.  In other words, an object.  Although it can be used beneficially to decouple the state from the method invocation, this idiom is often an <a href="AntiPattern.html">AntiPattern</a>, creating stateful dependencies across methods that should have been grouped into the same object if they truly need such stateful information, and otherwise receiving and acting on state they shouldn't access.
      </p>
      <hr/>
      <p>
        Isn't this pretty much the same as an ouput iterator (e.g. <a href="http://www.sgi.com/tech/stl/OutputIterator.html)?">http://www.sgi.com/tech/stl/OutputIterator.html)?</a> Like java.lang.Appendable for example. -- NiklasMatthies
      </p>
      <hr/>
      <p>
        <a href="CategoryCollections.html">CategoryCollections</a>
      </p>
    </div>
  </body>
</html>