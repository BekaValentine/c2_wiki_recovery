<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Self Documenting Layers
      </h1>
      <p>
        It is common for programmers to design systems as a set of layers.  (For example, see <a href="FourLayerArchitecture.html">FourLayerArchitecture</a>, <a href="RelationalDatabaseAccessLayer.html">RelationalDatabaseAccessLayer</a>, <a href="IsolationLayer.html">IsolationLayer</a>.)  However, the layering often exists only in the original programmer's mind, and is not reflected in the source code.  A common case is that after Programmer A finishes a system, Programmer B comes along to add some features, is unaware of the layered architecture, and proceeds to turn the system into a <a href="BigBallOfMud.html">BigBallOfMud</a>.
      </p>
      <p>
        We could just conclude that Programmer B is incompetent, but there is a real problem here.  Programming languages generally don't provide any abstractions that indicate layer dependencies.  One can use other language features to hint at layering (for example, <a href="PackagePerLayer.html">PackagePerLayer</a>), but unless Programmer A explicitly documented the layer scheme somewhere, any other programmer is unlikely to understand what Programmer A was thinking or how to maintain the layer separation as new features are added.
      </p>
      <p>
        Are there patterns or conventions that people have found helpful for communicating information about layering, other than those big static unmaintainable design documents that we never have time to write or to read?
      </p>
      <hr/>
      <p>
        Separate the layers into distinct projects. Each layer could be a library, a COM object, an executable; but ensure each layer builds to a separate binary through a separate process that your development environment treats as a separate entity. Then <a href="NarrowTheInterface.html">NarrowTheInterface</a> between the layers so much so that it's simple to communicate from one layer to another (if you can't, the separation is invalid). Use the <a href="FacadePattern.html">FacadePattern</a> to talk between layers to limit the interaction, or by using pipes, or event queues, etc. Once again, care must be taken that the interaction mechanism doesn't become too complicated. For example, the pipe server's complexity should not become a concern. Again, this typically indicates an invalid separation. Then again, the communication complexity may be the impetus to separate layers. Think of a journaling file system. -- <a href="SunirShah.html">SunirShah</a>
      </p>
    </div>
  </body>
</html>