<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Spherical Trigonometry
      </h1>
      <p>
        As used in the <a href="GeographyExample.html">GeographyExample</a>:
      </p>
      <p>
        <strong>Spherical coordinate system</strong>
      </p>
      <code>
        Let lat  = the latitude of a point north of the equator.<br/>
        at the south pole, lat = -90 degrees<br/>
        at the equator,    lat =   0<br/>
        at the north pole, lat =  90 degrees<br/>
      </code>
      <code>
        Let long = the longitude of a point east of the prime meridian.<br/>
      </code>
      <ol>
        <li>
           hours west of the prime meridian, long = -90 degrees
        </li>
      </ol>
      <code>
        at the prime meridian,              long = 0<br/>
      </code>
      <ol>
        <li>
           hours east of the prime meridian, long = 90 degrees
        </li>
      </ol>
      <p>
        <strong>Cartesian coordinate system</strong>
      </p>
      <code>
        Let x    = the cartesian distance, from the center of the sphere,<br/>
        divided by the radius of the sphere.<br/>
        Looking down from the point (lat=0,long=0),<br/>
        x increases outward from the sphere.<br/>
      </code>
      <code>
        Let y    = the cartesian distance, from the center of the sphere,<br/>
        divided by the radius of the sphere.<br/>
        Looking down from the point (lat=0,long=0),<br/>
        y increases to the east.<br/>
      </code>
      <code>
        Let z    = the cartesian distance, from the center of the sphere,<br/>
        divided by the radius of the sphere.<br/>
        Looking down from the point (lat=0,long=0),<br/>
        z increases to the north.<br/>
      </code>
      <p>
        <strong>Some sample points</strong>:
      </p>
      <code>
        (lat= 0,  long=  0)   =  (x=1, y=0, z=0)  =  where equator crosses prime meridian<br/>
        (lat=90°, long=  0)   =  (x=0, y=0, z=1)  =  North Pole<br/>
        (lat= 0,  long= 90°)  =  (x=0, y=1, z=0)  =  on equator, 6 hours east of prime meridian<br/>
      </code>
      <p>
        The <strong>distance between points on a sphere</strong> can be calculated as follows:
      </p>
      <code>
        Let tau  = "tunnel distance" between two points,<br/>
        divided by the radius of the sphere.<br/>
        This is the shortest distance between two points,<br/>
        measured through the sphere,<br/>
        divided by the radius of the sphere.<br/>
      </code>
      <code>
        Let crow = distance as the crow flies between two points,<br/>
        measured along the great circle route between the points,<br/>
        divided by the radius of the sphere.<br/>
      </code>
      <code>
        x        = cos(lat) * cos(long) <br/>
        y        = cos(lat) * sin(long)<br/>
        z        = sin(lat)<br/>
      </code>
      <code>
        lat      = arcsin(z)<br/>
        long     = <br/>
      </code>
      <code>
        tau^2    = (x2 - x1)^2 + (y2 - y1)^2 + (z2 - z1)^2<br/>
      </code>
      <code>
        tau^2    = 2 - 2 cos(crow)<br/>
      </code>
      <code>
        crow     = arccos(1 - tau^2 / 2)<br/>
      </code>
      <hr/>
      <p>
        <strong>An example distance</strong>, discussed in the <a href="GeographyExample.html">GeographyExample</a>:
      </p>
      <code>
        From <br/>
        (lat=45°, long=  0)   =  (x1=cos(45°), y1=   0,     z1=sin(45°))<br/>
        to<br/>
        (lat= 0°, long= 45°)  =  (x2=cos(45°), y2=sin(45°), z2=   0    )<br/>
      </code>
      <code>
        tau^2    = (x2 - x1)^2 + (y2 - y1)^2 + (z2 - z1)^2<br/>
        tau^2    = (cos(45°) - cos(45°))^2 + (sin(45°) - 0)^2 + (0 - sin(45°))^2<br/>
        tau^2    = (         0         )^2 +       sin(45°)^2 + (  - sin(45°))^2<br/>
        tau^2    =                                 sin(45°)^2 +       sin(45°)^2<br/>
        tau^2    =  1<br/>
      </code>
      <code>
        crow     = arccos(1 - tau^2 / 2)<br/>
        = arccos(1 -      1/2 )<br/>
        = arccos(     1/2     )<br/>
        = 60°<br/>
      </code>
      <hr/>
      <p>
        <strong>Proof that</strong> tau^2    = 2 - 2 cos(crow)
      </p>
      <code>
        Find the distance between points (lat=0, long=0) and (lat=0, long=crow):<br/>
        (lat=0, long=0)    =  (x=1, y=0, z=0)<br/>
        (lat=0, long=crow) =  (x=cos(0)*cos(crow), y=cos(0)*sin(crow), z=sin(0))<br/>
        =  (x=  1   *cos(crow), y=  1   *sin(crow), z=  0   )<br/>
        =  (x=cos(crow), y=sin(crow), z=0)<br/>
        tau^2    = (x2 - x1)^2       + (y2 - y1)^2 + (z2 - z1)^2<br/>
        = (x2 -  1)^2       +        y2^2        + z2^2<br/>
        = (cos(crow) - 1)^2 + sin(crow)^2 +         0^2<br/>
        = cos(crow)^2 - 2*cos(crow) + 1 + sin(crow)^2 + 0<br/>
        = 1 + sin(crow)^2 + cos(crow)^2 - 2*cos(crow)<br/>
        = 1 +             1             - 2*cos(crow)<br/>
        = 2 - 2*cos(crow)<br/>
      </code>
      <hr/>
      <p>
        See also:  <a href="GeographyExample.html">GeographyExample</a>
      </p>
    </div>
  </body>
</html>