<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Ms Windows Resource Lint Test Header
      </h1>
      <p>
        A micro test runner, even smaller than the one at <a href="VisualCeePlusPlus.html">VisualCeePlusPlus</a>, and just as coupled to the VC++ IDE. Part of <a href="MsWindowsResourceLint.html">MsWindowsResourceLint</a>.
      </p>
      <p>
        Use <a href="EditPage.html">EditPage</a> to avoid any Wikifications, and save this as <em>test.h</em>:
      </p>
      <code>
        //  lite test rig<br/>
      </code>
      <code>
        //  WPL - the Whatever Public License. Have fun; don't sue<br/>
      </code>
      <code>
        #ifndef TEST_<br/>
      </code>
      <code>
        #   include <iostream><br/>
        #   include <list><br/>
        #   include <sstream><br/>
        #   define WIN32_LEAN_AND_MEAN<br/>
        #   include <windows.h><br/>
      </code>
      <code>
        class<br/>
        <a href="TestCase.html">TestCase</a><br/>
        {<br/>
        public:<br/>
        typedef std::list<<a href="TestCase.html">TestCase</a> *> TestCases_t;<br/>
        TestCases_t static cases;<br/>
      </code>
      <code>
        <a href="TestCase.html">TestCase</a>()  {  cases.push_back(this);  }<br/>
        virtual void setUp() {}<br/>
        virtual void runCase() = 0;<br/>
        virtual void tearDown() {}<br/>
        static bool runTests();<br/>
      </code>
      <code>
        protected:<br/>
        static bool all_tests_passed;<br/>
        };<br/>
      </code>
      <code>
        inline bool<br/>
        <a href="TestCase.html">TestCase</a>::runTests()<br/>
        {<br/>
        <a href="TestCase.html">TestCase</a>::TestCases_t::iterator it(<a href="TestCase.html">TestCase</a>::cases.begin());<br/>
      </code>
      <code>
        for ( ;  it != <a href="TestCase.html">TestCase</a>::cases.end();  ++it )<br/>
        {<br/>
        <a href="TestCase.html">TestCase</a> & aCase = **it;<br/>
        aCase.setUp();<br/>
        aCase.runCase();<br/>
        aCase.tearDown();<br/>
        }<br/>
        return <a href="TestCase.html">TestCase</a>::all_tests_passed;<br/>
        }<br/>
      </code>
      <code>
        #define TEST_(suite, target)                    struct suite##_##target##_test:  public suite         { void runCase(); }                         a_##suite##_##target##_test;                void suite##_##target##_test::runCase()<br/>
      </code>
      <code>
        #define CPPUNIT_ASSERT_EQUAL(sample, result)                  if ((sample) != (result))  {  std::stringstream out;             out << __FILE__ << "(" << __LINE__ << ") : ";             out << #sample << "(" << (sample) << ") != ";             out << #result << "(" << (result) << ")";                 std::cout << out.str() << std::endl;                      OutputDebugString(out.str().c_str());                     OutputDebugString("\n");                                  all_tests_passed = false;                                 __asm { int 3 }  }<br/>
      </code>
      <code>
        #endif<br/>
      </code>
      <hr/>
      <p>
        <a href="CategoryLint.html">CategoryLint</a>
      </p>
    </div>
  </body>
</html>