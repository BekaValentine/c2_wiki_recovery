<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Database Action
      </h1>
      <p>
        A starting idea: suppose we had a <a href="DatabaseAction.html">DatabaseAction</a> object with instance variables query, success, fail, and message. Suppose when it was created, it sent itself the message execute(). Suppose that object encapsulated everything. The code, in Smalltalk, might look like this: 
      </p>
      <code>
        <a href="DatabaseAction.html">DatabaseAction</a><br/>
        query: queryThatCouldFail<br/>
        success: updateThatCouldFail<br/>
        failure: anotherThingThatCouldFail<br/>
        message: tellUserItDidn'tWork<br/>
      </code>
      <p>
        Naturally there would be default forms such as 
      </p>
      <code>
        <a href="DatabaseAction.html">DatabaseAction</a> query: queryThatCouldFail<br/>
      </code>
      <p>
        Could a system built around <a href="DatabaseAction.html">DatabaseAction</a> be simpler, more clear, faster to write, more reliable than hand-coding conditional OR try/catch code? 
        Nah, probably not. 
      </p>
      <hr/>
      <p>
        Hey, pull the execute call out of construction, make it a composite and implement transactions.  Why wouldn't it work?  -- <a href="MichaelFeathers.html">MichaelFeathers</a>
      </p>
      <p>
        <em>It would. But don't tell the C++ guys.</em>
      </p>
    </div>
  </body>
</html>