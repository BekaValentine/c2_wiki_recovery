<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Business Rules
      </h1>
      <p>
        <em>King of Swamp Castle</em>: Make sure the Prince doesn't leave this room until I come and get him.
      </p>
      <p>
        <em>Pair 1</em>: Not ... to leave the room ... even if you come and get him.
      </p>
      <p>
        <em>King</em>: No. <em>Until</em> I come and get him.
      </p>
      <p>
        <em>Pair 2</em>: Hic.
      </p>
      <p>
        <em>Pair 1</em>: Until you come and get him, we're not to enter the room.
      </p>
      <p>
        <em>King</em>: No ... 
      </p>
      <p>
        --<a href="MontyPython.html">MontyPython</a>
      </p>
      <hr/>
      <p>
        Usually some domain-specific constraints upon the data & behaviour of a business system. For example, "if the terms of the contract are XXX then we can start recognizing the revenue at date YYY".
      </p>
      <p>
        The rules should be explicit model of contracts and contractual behavior, encapsulated in objects.
      </p>
      <p>
        An approach might be to define a common Rule interface, and then compose Rules into a RuleSet: 
      </p>
      <code>
        public interface Rule <br/>
        {<br/>
        public boolean check();<br/>
        }<br/>
      </code>
      <code>
        public class RuleSet implements Rule <br/>
        {<br/>
        // skip private list of rules, constructor, etc...<br/>
      </code>
      <code>
        public void addRule( Rule rule ) <br/>
        {<br/>
        _rules.add(rule);<br/>
        }<br/>
      </code>
      <code>
        public boolean check() <br/>
        {<br/>
        Iterator rules = _rules.iterator();<br/>
        while ( rules.hasNext() ) <br/>
        {<br/>
        Rule rule = (Rule)rules.next();<br/>
        if (!rule.check()) return false;<br/>
        }<br/>
        return true;<br/>
        }<br/>
        }<br/>
      </code>
      <p>
        Concrete Rule instances can be constructed with the data necessary to fire the rule as prescribed by their check() method. The RuleSet is assembled with a collection of Rule instances, with which a single call to check() will effectively accomplish the 'if' logic. Combining AND and OR operators takes a bit more work. 
      </p>
      <p>
        This is probably more than is necessary for checking whether a field is editable or not, but it does address the 'if' statement for generic rule-based systems. The simplest approach is to simply refactor each test into its own method, as you've already pointed out. 
      </p>
      <hr/>
      <p>
        I don't think business rules. I think it sucks.
      </p>
      <p>
        <em>Yes, but in many cases the alternatives suck more.</em>
      </p>
      <hr/>
      <p>
        See <a href="BusinessRulesMetabase.html">BusinessRulesMetabase</a> <a href="BusinessRule.html">BusinessRule</a>
      </p>
      <hr/>
      <p>
        <a href="CategoryBusinessDomain.html">CategoryBusinessDomain</a>, CategoryRealdata
      </p>
    </div>
  </body>
</html>