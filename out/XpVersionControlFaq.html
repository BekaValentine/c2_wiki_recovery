<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Xp Version Control Faq
      </h1>
      <p>
        From <a href="XpFaq.html">XpFaq</a> 
      </p>
      <hr/>
      <p>
        <strong>What's the exact workflow to </strong>IntegrateContinuously using CVS?<strong></strong>
      </p>
      <p>
        The normal sequence of events is this:
      </p>
      <ol>
        <li>
           You make some changes to your private work area that you'd like to commit
        </li>
        <li>
           Run your <a href="ProgrammerTest.html">ProgrammerTest</a>s and make sure you get a <a href="GreenBar.html">GreenBar</a> (checking in <a href="RedCode.html">RedCode</a> is forbidden)
        </li>
        <li>
           Get the <a href="IntegrationToken.html">IntegrationToken</a> (lunch boxes are common) <em>or</em>
        </li>
        <li>
           Wait until the dedicated <a href="IntegrationMachine.html">IntegrationMachine</a> is free; get (the contents of) your private work area to the IM somehow (using a branch is the fancy way; getting to your private work area with NFS or some other drive-sharing method is the easy way)
        </li>
        <li>
           Pull everyone else's changes into your private work area: <strong>cvs update</strong>
        </li>
        <li>
           Run the <a href="ProgrammerTest.html">ProgrammerTest</a>s again; you may need to make some minor changes to the code if some interfaces have changed.  If it's not immediately obvious what to do, yell for help from whoever last changed the code in question.  Keep at it until you get a <a href="GreenBar.html">GreenBar</a> or decide to scrap what you've changed and rewrite it (this is an easier option if you integrate more frequently).
        </li>
        <li>
           Run the <a href="CustomerTest.html">CustomerTest</a>s (depending on your local process; if they take hours to run, don't hold up integration for them; you might, alternatively, run a subset of them).  If a <a href="CustomerTest.html">CustomerTest</a> fails: bail out of integrating; write a <a href="ProgrammerTest.html">ProgrammerTest</a> that would catch the bug; fix the code; start integration all over again from the top.
        </li>
        <li>
           Come up with a brief log message: CVS will tell everyone exactly which lines of which files were changed, and what the before and after look like, so the log message should be at a higher level: the what and the why.  The name of the task you were working on is a good candidate.
        </li>
        <li>
           Commit your changes: <strong>cvs commit -m "Added twist bar to feature foo"</strong>
        </li>
        <li>
           Release the <a href="IntegrationToken.html">IntegrationToken</a> or <a href="IntegrationMachine.html">IntegrationMachine</a>
        </li>
        <li>
           Announce your successful integration: ring a bell, send an email, send an instant message (this can be automated)
        </li>
        <li>
           If you used an <a href="IntegrationMachine.html">IntegrationMachine</a>, you may need to update your private work area again: <strong>cvs update</strong>
        </li>
      </ol>
      <p>
        This should happen at least a few times a day per person.  Some teams commit even more frequently (every five minutes, or every time they get a <a href="GreenBar.html">GreenBar</a>), but that's a matter of style and local context (e.g. how long it takes to get the <a href="IntegrationToken.html">IntegrationToken</a> or <a href="IntegrationMachine.html">IntegrationMachine</a>, how long it takes to run the tests, etc.)  <em>[We really need a </em>HowOftenShouldYouCommit page to cover this; starter text can be taken from here, <a href="ExtremeVersionControl.html">ExtremeVersionControl</a>, and <a href="ExtremeVersionControlDiscussion.html">ExtremeVersionControlDiscussion</a>.]<em></em>
      </p>
      <hr/>
      <p>
        <strong>Won't collective code ownership result in lots of merge conflicts?</strong>
      </p>
      <p>
        If practiced correctly, no.  This is a common fear but turns out to be rare in the real world.  With a good tool, such as the free CVS, merges are also relatively painless even when they do occur.  The most important thing to remember is to IntegrateContinuously: integrate at least once a day.  Four times a day wouldn't be too many. Another important thing is to have your code covered with automated <a href="UnitTest.html">UnitTest</a>s. They will tell you if the merge does break something even though it happens only occasionally. Another important thing is that refactoring to satisfy <a href="OnceAndOnlyOnce.html">OnceAndOnlyOnce</a> typically produces small, loosely coupled objects. Any one change is unlikely to affect many objects. Another important thing is that the probability of conflicts rises hyper-linearly with the number of streams of changes, so pair programming dramatically reduces the probability.
      </p>
      <hr/>
      <p>
        As an aside, CVS is a very bad tool for private/task branch techniques, as anyone who's used it for this can attest.  As an example:
      </p>
      <p>
        You have a 2 minute fix. You make a task branch (this takes 2 hours, since your codebase is rather large, and you have TONS of tags due to the task branch methodology), you fix the bug, you check in, you merge, and tag (another 2 hours) the merge. Total time for 2 minute fix: 4 hours. It's just the nature of the beast.
      </p>
      <p>
        <a href="DistributedVersionControl.html">DistributedVersionControl</a> systems are designed for this use. <a href="SubVersion.html">SubVersion</a> is also much better than CVS in this regard.
      </p>
      <hr/>
      <p>
        <a href="CategoryExtremeProgramming.html">CategoryExtremeProgramming</a> <a href="CategoryFaq.html">CategoryFaq</a> 
      </p>
    </div>
  </body>
</html>