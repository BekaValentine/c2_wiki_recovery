<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Extreme Programming For Fixed Interfaces
      </h1>
      <p>
        A "FixedInterface" here is a <a href="PublishedInterface.html">PublishedInterface</a> for sale.
      </p>
      <p>
        <a href="news:comp.object">news:comp.object</a> discussed whether interfaces that arise from the <a href="RefactorMercilessly.html">RefactorMercilessly</a> practice of <a href="ExtremeProgramming.html">ExtremeProgramming</a> can create APIs that one can sell to end-user programmers.
      </p>
      <hr/>
      <p>
        DanielParker wrote:
      </p>
      <p>
        <em>Keep in mind that you have to go pretty deep into Beck's TDD before you will find code that even remotely approximates what someone with a little domain knowledge and some understanding of software principles would write, given a little time to reflect.  There is absolutely no point in having core interfaces between components go through those kind of iterations.</em>
      </p>
      <p>
        KB's TDD book covers <a href="TestDrivenDevelopment.html">TestDrivenDevelopment</a>, not XP, and assumes a customer who wants money
        (hence his money example). Not interfaces.
      </p>
      <p>
        On a team selling interfaces, let's follow XP's core principles and see what
        happens.
      </p>
      <p>
        First, get the best possible <a href="DomainExpert.html">DomainExpert</a> (just like any other methodology [right?]).
      </p>
      <p>
        The best possible domain expert will have experience delivering <a href="ApplicationProgrammingInterface.html">ApplicationProgrammingInterface</a>s to UserProgrammers with fixed interfaces. (We can also work this with a lame domain expert, too.)
      </p>
      <p>
        We appoint them to the <a href="OnsiteCustomer.html">OnsiteCustomer</a> role, and then they write some <a href="UserStories.html">UserStories</a> requesting APIs.
      </p>
      <p>
        The team's job now is, for each US, is to help the <a href="OnsiteCustomer.html">OnsiteCustomer</a> specify <a href="CustomerAcceptanceTest.html">CustomerAcceptanceTest</a> criteria. "Help" generally means "challenge" here. Everyone's job is to challenge assumptions.
      </p>
      <p>
        The <a href="CustomerAcceptanceTest.html">CustomerAcceptanceTest</a> (CAT, from here on in) for an API feature is a small app using that feature the way a
        user-programmer would.
      </p>
      <p>
        The developers challenge the OC to make each CAT as different as possible. Customers will Accept our API when they find it solves their problem their way.
      </p>
      <p>
        (We may also envision USs that state "the API returns the correct error message if it is used wrong". We have all experienced APIs that failed this one!)
      </p>
      <p>
        This situation is the same as for any <a href="UserStory.html">UserStory</a> and its CAT; where the whole team reviews the CAT criteria to make sure nobody can improve it. (Recall the criteria is just on paper so far.) But this means even if the <a href="OnsiteCustomer.html">OnsiteCustomer</a> is not the >best< domain expert possible, they are not the bottleneck in the system.
      </p>
      <p>
        Now the team starts converting <a href="UserStories.html">UserStories</a> into real CATs, <a href="ProgrammerTest.html">ProgrammerTest</a>, and
        code.
      </p>
      <p>
        When the time comes to refactor, they refactor mercilessly. Except the CATs.
      </p>
      <p>
        The White Book clearly states that the element of a check-in is production
        code and "unit" test code. You are not allowed to change the CAT
        ("<a href="FunctionalTest.html">FunctionalTest</a>") as freely as <a href="ProductionCode.html">ProductionCode</a>, because when you check-in
        all tests must pass, but other programmers might be working against a given
        CAT, so it might not pass yet, so you can't use it to determine if your most
        recent edit broke anything.
      </p>
      <p>
        Refactoring stops at the CAT.
      </p>
      <p>
        The unit test code gates the production code, but the CATs gates the
        <a href="UserStory.html">UserStory</a>. So when the CATs pass, the <a href="OnsiteCustomer.html">OnsiteCustomer</a> takes the <a href="UserStory.html">UserStory</a>
        card back.
      </p>
      <p>
        If the CATs specify fixed interfaces, the team delivers fixed interfaces.
      </p>
      <p>
        Nobody expects fixed interfaces (or anything else an end-user needs) to
        spontaneously emerge from refactoring!
      </p>
      <p>
        If development encounters any problem with the specifications, they will
        perforce already have source code demonstrating the problem. So they can
        submit this to the OC, who can change the specifications, upgrade the CAT
        criteria, and re-start its <a href="UserStory.html">UserStory</a>.
      </p>
      <p>
        If end-users request an upgrade, the OC can request a new function;
        CreateFileEx() as usual.
      </p>
      <p>
        Because there are many CATs, the team satisfies the principle "build an API
        by building more than three client applications."
      </p>
      <p>
        <em>But hey, there have been threads where XP'ers were loath to make any concessions about the expense of refactoring interfaces.</em>
      </p>
      <p>
        Frankly, our technology has not caught up with us. Databases, ORBs & GUIs
        were all invented to permit a few kinds of testing and refactoring while
        hindering others. I suspect databases still exist that prevent one from
        adding a column freely, without copying table contents around.
      </p>
      <p>
        In future, such APIs will be written with Agile teams in mind.
      </p>
      <p>
        --Phlip
      </p>
    </div>
  </body>
</html>