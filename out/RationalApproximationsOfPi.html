<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Rational Approximations Of Pi
      </h1>
      <p>
        Occasionally, it is useful to have a rational approximation for Pi.
      </p>
      <p>
        Some environments immediately come to mind:
      </p>
      <ol>
        <li>
           you don't have floating point math available but need to calculate with Pi
        </li>
        <li>
           you don't want the overhead of loading the floating point package
        </li>
      </ol>
      <p>
        <em>Pedantry requires pointing out that floats use rational approximations of Pi as well; with the restriction that the denominator is a negative power of some radix--10 if you're a human, 2 if you're a computer....</em>
      </p>
      <p>
        [This may be true, but with a floating point package it's possible to just write 3.14159 as a constant.  In the absence of floats, this is not possible and you must either divide or use scaled integers.]
      </p>
      <p>
        Using the expression pi ~= a/b, here are some values for (a) and (b) that yield more-or-less usable values for Pi:
      </p>
      <code>
        ( a )   ( b )    ~pi value           error (abs(pi - a/b))<br/>
      </code>
      <ol>
        <li>
                 1    3                  .141592645  ...
          <ol>
            <li>
                     6    3.166666666666666  .0250740130 ... 
            </li>
            <li>
                     7    3.142857142857142  .0012644892 ... **
              <ol>
                <li>
                        57    3.140350877192982  .0012417763 ...
                </li>
                <li>
                        64    3.140625000000000  .0009676535 ...
                </li>
                <li>
                        71    3.140845070422535  .0007475831 ...
                </li>
                <li>
                        78    3.141025641025641  .0005670125 ...
                </li>
                <li>
                        85    3.141176470588235  .0004161830 ...
                </li>
                <li>
                        92    3.141304347826086  .0002883057 ...
                </li>
                <li>
                        99    3.141414141414141  .0001785121 ...
                </li>
                <li>
                       106    3.141509433962264  .0000832196 ...
                </li>
                <li>
                       113    3.141592920353982  .0000002667 ... ***
                  <ol>
                    <li>
                         16604    3.141592387376535  .0000002662 ...
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
          </ol>
        </li>
      </ol>
      <ol>
        <li>
                 1    3                  .14
          <ol>
            <li>
                     8    3.125              .017
              <ol>
                <li>
                        32    3.15625            .01466
                </li>
                <li>
                        64    3.140625           .000967
                  <ol>
                    <li>
                          1024    3.1416015625       .0000089    ...
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
          </ol>
        </li>
      </ol>
      <p>
        The fraction 22/7 is probably the easiest to remember, but the 
        most useful of these is arguably 355/113 since it is good to more 
        than 5 places and requires only 3 digits for both (a) and (b), 
        and is fairly easy to memorize.  If you take the digits 113355, 
        cut in the middle, and swap them, you have 355/113; an easy 
        memory trick.
      </p>
      <p>
        <em>Did you use continued fractions to approximate the decimal value, or some other trick?</em>
      </p>
      <p>
        As much as I would like to take credit for this, no.  This is compiled from data extracted from a number of sources, some of whom did indeed use continued fractions.  -- <a href="GarryHamilton.html">GarryHamilton</a>
      </p>
      <p>
        <em>Does the table have the property for that for every (A/B) listed, there is no closer approximation (A'/B') for which B' <= B?</em> 
      </p>
      <p>
        Yes, that's why those selected values were chosen.  There are intermediate values (like 25/8) that are "in the ball park" but for which a lower value of B' exists that produces a more accurate estimate of Pi.
      </p>
      <p>
        <em>25/8 is useful in that 8 is a power of two, so the result can be performed with bit-shifting.  This is useful if you're working with a primitive microprocessor, where it's easier to shift bits than to divide integers.  101/32 and 201/64 get a little closer, and 201/64 only requires two shifts left and throwing away the least significant byte to perform the division.  --</em><a href="NickBensema.html">NickBensema</a><em></em>
      </p>
      <hr/>
      <p>
        See <a href="ContinuedFractions.html">ContinuedFractions</a> for a demonstration of a small piece of code that finds the "best" rational approximation to pi, e, sqrt(2), etc. -- <a href="DougMerritt.html">DougMerritt</a>
      </p>
      <p>
        See also <a href="ValueOfPi.html">ValueOfPi</a>
      </p>
      <hr/>
      <p>
        <a href="CategoryMath.html">CategoryMath</a>
      </p>
    </div>
  </body>
</html>