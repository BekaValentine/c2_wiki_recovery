<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Self Numbers In Jay Language
      </h1>
      <p>
        Following was one of the pre-interview puzzles for a famous software company.
      </p>
      <p>
        When a natural number <em>n</em> is given, d(<em>n</em>) is defined as the number <em>n</em> itself added to the sum of <em>n</em>'s digits.
      </p>
      <p>
        For example, d(91) = 9 + 1 + 91 = 101
      </p>
      <p>
        Here, <em>n</em> is called d(<em>n</em>)'s generator. In the example above, 91 is 101's generator. Some numbers have more than one generator; 101 has as generators not only 91 but also 100. On the other hand, there are numbers that do not have any generators and such numbers are called self-numbers by an Indian mathematician, D. R. Kaprekar (<a href="http://en.wikipedia.org/wiki/D._R._Kaprekar).">http://en.wikipedia.org/wiki/D._R._Kaprekar).</a>
      </p>
      <p>
        For example, 1, 3, 5, 7, 9, 20, 31 are self-numbers.
      </p>
      <p>
        What is the sum of all self-numbers that are 1 or more, and less than 5000?
      </p>
      <hr/>
      <code>
        base10=:10&#.               <br/>
        base10 1 2 3                         <br/>
      </code>
      <ol>
        <li>
                                           
        </li>
      </ol>
      <code>
        inversed=:^:_1               <br/>
        digits=:base10 inversed               <br/>
        digits 123                         <br/>
      </code>
      <ol>
        <li>
           2 3                                 
        </li>
      </ol>
      <code>
        add=:+                            <br/>
        over=:/                            <br/>
        sum=:add over                  <br/>
        sum 123 1 2 3                         <br/>
      </code>
      <ol>
        <li>
                                           
        </li>
      </ol>
      <code>
        of=:@                             <br/>
        generate=: add sum of digits <br/>
        generate 123                     <br/>
      </code>
      <ol>
        <li>
                                             
        </li>
      </ol>
      <code>
        foreach=:"0                       <br/>
        geneach=:generate foreach   <br/>
        geneach 123 456                <br/>
      </code>
      <ol>
        <li>
           471                              
        </li>
      </ol>
      <code>
        except=:-.                         <br/>
      </code>
      <ol>
        <li>
           2 3 4 except 2 4                       
          <ol>
            <li>
               3                   
            </li>
          </ol>
        </li>
      </ol>
      <code>
        lessthan=:>:@i.@<:             <br/>
        lessthan 10                       <br/>
      </code>
      <ol>
        <li>
           2 3 4 5 6 7 8 9                   
        </li>
      </ol>
      <code>
        selfnum=: except geneach     <br/>
        sum of selfnum lessthan 5000<br/>
      </code>
      <ol>
        <li>
                                        
        </li>
      </ol>
      <p>
        Indented is what I typed in and unindented is the interpreter result.
      </p>
      <p>
        The script above is an extended verbose version of what I actually stepped through when solving the puzzle for the first time. My original steps were close to the following:
      </p>
      <code>
        d=:10&#.^:_1<br/>
        g=:(+ +/@d)"0<br/>
        +/ (-. g) >:i.<:5000<br/>
      </code>
      <p>
        I solved this puzzle with these steps in about 30 seconds(with runtime being about 0.1 sec) thanks to <a href="JayLanguage.html">JayLanguage</a>. Of course, the time spent in reading(and thinking simultaneously) the problem was not included in this short time. ;-)
      </p>
      <p>
        --<a href="JuneKim.html">JuneKim</a>
      </p>
    </div>
  </body>
</html>