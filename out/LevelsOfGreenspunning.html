<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Levels Of Greenspunning
      </h1>
      <p>
        <a href="GreenSpunning.html">GreenSpunning</a> is the <em>ad hoc</em> implementation of domain-independent language features in a language which lacks the feature; it can range from a simple one-line function or macro to the canonical description of <a href="GreenSpunning.html">GreenSpunning</a>: a "half-assed implementation of half of <a href="CommonLisp.html">CommonLisp</a><em>.</em>
      </p>
      <p>
        There are several levels of <a href="GreenSpunning.html">GreenSpunning</a> to consider; some may object to calling these <a href="GreenSpunning.html">GreenSpunning</a>. Note: It is assumed that the emulated feature may come from any language; not just Lisp.
      </p>
      <p>
        Greenspunning typically does not refer to third-party libraries which are not part of the definition of a particular language, but which are widely available, of high quality, and generally considered part of the programmer's toolkit. Instead, the term should be reserved for instances of <a href="ReinventingTheWheel.html">ReinventingTheWheel</a>.
      </p>
      <p>
        <strong>Level 0:  The Features Are Already There</strong>
      </p>
      <p>
        No work needs to be done apart from using them.
      </p>
      <p>
        <strong>Level 1:  By Convention</strong>
      </p>
      <p>
        A feature is "implemented" by some convention on how to use another feature; for example, imitating Java interfaces in C++ by use of classes which contain nothing but <a href="PureVirtual.html">PureVirtual</a> methods. Many <a href="DesignPatterns.html">DesignPatterns</a> are actually instances of Level 1 <a href="GreenSpunning.html">GreenSpunning</a>. See <a href="AreDesignPatternsMissingLanguageFeatures.html">AreDesignPatternsMissingLanguageFeatures</a>.
      </p>
      <p>
        <strong>Level 2:  One-liners</strong>
      </p>
      <p>
        A language feature is trivially implemented on top of another language feature, by use of a simple class, function, or macro, often containing just one or a few lines of code.  
      </p>
      <p>
        <strong>Level 3:  As a Library</strong>
      </p>
      <p>
        The language feature is implemented as non-trivial library of functions, classes, macros, etc., with the restriction that the implementation is portable. Often times, such libraries get added to the language definition, in which case claims of <a href="GreenSpunning.html">GreenSpunning</a> may then vanish, if done well. The majority of such libraries are, however, <em>ad hoc</em> and half-assed. Many home-brew collection class libraries are of this sort. (See <a href="IhadToWriteMyOwnLinkedList.html">IhadToWriteMyOwnLinkedList</a>.)
      </p>
      <p>
        <strong>Level 4:  Dirty tricks</strong>
      </p>
      <p>
        Similar to the above case, but <a href="UndefinedBehavior.html">UndefinedBehavior</a> is invoked in order to implement the feature. All <a href="GarbageCollection.html">GarbageCollection</a> libraries for C/C++ are in this category -- for them to function properly they need incestuous knowledge of the compiled code and the target platform. Porting such a library to a new target often involves more effort than a recompile. Use of <a href="PointerCastPolymorphism.html">PointerCastPolymorphism</a> to implement OO in <a href="CeeLanguage.html">CeeLanguage</a> is another popular example, although the dirtiness is from the need for programmer discipline rather than from <a href="UndefinedBehavior.html">UndefinedBehavior</a> in that case.
      </p>
      <p>
        <strong>Level 5: </strong><a href="MetaProgramming.html">MetaProgramming</a><strong></strong>
      </p>
      <p>
        Some external tool is used to generate code in the target language from a specification in some augmented form, or a higher-level language. This is <em>not</em> <a href="GreenSpunning.html">GreenSpunning</a> when done as a clean <a href="DomainSpecificLanguage.html">DomainSpecificLanguage</a>; <a href="GreenSpunning.html">GreenSpunning</a> refers to the domain-independent case done in an <em>ad hoc</em> manner. A classic example would be a homebrew system for <a href="RemoteProcedureCall.html">RemoteProcedureCall</a> that worked in the same manner -- taking an interface definition file and spitting out stubs/skeletons in the target language. (Again, use of industry-standard tools like CORBA or "real" RPC is not Greenspunning). Another example: implementing <a href="LispLanguage.html">LispLanguage</a> in <a href="CeePlusPlus.html">CeePlusPlus</a> <a href="TemplateMetaprogramming.html">TemplateMetaprogramming</a>.
      </p>
      <p>
        <em>The </em><a href="TestCollector.html">TestCollector</a> pattern in C++ sometimes has this problem. To automatically collect all cases into suites, some test rigs use an external script to harvest them and write a C++ suite.<em></em>
      </p>
      <p>
        <strong>Level 6: The Intepreter / Framework</strong>
      </p>
      <p>
        The limiting case of Greenspunning: an interpreter for the high-level language (or an extended language containing the desired feature) is written in the low-level language, which then executes code in the high-level language at runtime. Again, when done as a clean coherent design, not really <a href="GreenSpunning.html">GreenSpunning</a>; otherwise it's just <a href="AlternateHardAndSoftLayers.html">AlternateHardAndSoftLayers</a> -- but most developed as mission-critical private tools are unfortunately <em>ad hoc</em>. Numerous scripting languages such as <a href="ToolCommandLanguage.html">ToolCommandLanguage</a> and <a href="LuaLanguage.html">LuaLanguage</a> are often used in this manner.
      </p>
      <hr/>
      <p>
        I like these levels, but I object to all those special exceptions. <a href="AlternateHardAndSoftLayers.html">AlternateHardAndSoftLayers</a> is something you do because at least one of your languages is insufficient (not secure enough, not flexible enough) for both. Using an external tool rather than a library for the <a href="DomainSpecificLanguage.html">DomainSpecificLanguage</a> elements suggests your language isn't as flexible as it could be.
      </p>
      <hr/>
      <p>
        See: <a href="PhilipGreenspun.html">PhilipGreenspun</a>, <a href="GreenspunsTenthRuleOfProgramming.html">GreenspunsTenthRuleOfProgramming</a>, <a href="FourLevelsOfFeature.html">FourLevelsOfFeature</a>
      </p>
    </div>
  </body>
</html>