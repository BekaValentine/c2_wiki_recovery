<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Tutorial Dee
      </h1>
      <p>
        <strong>Tutorial D</strong>
      </p>
      <p>
        A <a href="RelationalLanguage.html">RelationalLanguage</a> by <a href="HughDarwen.html">HughDarwen</a> and <a href="ChrisDate.html">ChrisDate</a>.  It is used for many of the examples in <a href="ChrisDate.html">ChrisDate</a>'s <a href="AnIntroductionToDatabaseSystems.html">AnIntroductionToDatabaseSystems</a>, and is fully described in <a href="TheThirdManifesto.html">TheThirdManifesto</a>.  Unlike <a href="StructuredQueryLanguage.html">StructuredQueryLanguage</a>, it is truly relational.  The result of a query is always a set, never a bag like in SQL. As its name suggests, it is primarily intended for teaching purposes.  
      </p>
      <p>
        It is important to distinguish between D and Tutorial D.  Also not to be confused with <a href="DeeLanguage.html">DeeLanguage</a>.
      </p>
      <p>
        Tutorial D is a suggested notation for teaching the concepts within the <a href="TheThirdManifesto.html">TheThirdManifesto</a> and the authors' other books. It does not yet have a complete implementation, but Rel (below) is probably the closest.
      </p>
      <p>
        D is <em>any</em> database language that conforms to <a href="TheThirdManifesto.html">TheThirdManifesto</a>'s Prescriptions and Proscriptions -- a set of guidelines for a database language that exhibits certain desirable characteristics.  For example, <a href="TheThirdManifesto.html">TheThirdManifesto</a>'s <em>RM Prescription 26</em> states "D shall be constructed according to well-established principles of good language design."  
      </p>
      <p>
        Why the letter "D" was chosen is unspecified (obvious guesses are "Database", or a tongue-in-cheek database oriented successor to <a href="CeeLanguage.html">CeeLanguage</a>), but Hugh Darwen has retroactively fitted it to "Date and Darwen's Database Dream".
      </p>
      <p>
        As of this writing, there are at least 6 implementations of D:
      </p>
      <dl>
        <dt>D4</dt>
        <dd><a href="http://www.alphora.com">http://www.alphora.com</a> (<a href="DataphorIsOpenSource.html">DataphorIsOpenSource</a> now <a href="http://dataphor.org/))">http://dataphor.org/))</a></dd>
      </dl>
      <dl>
        <dt>D flat</dt>
        <dd><a href="http://www.hughdarwen.freeola.com/TheThirdManifesto.web/REAL.pdf">http://www.hughdarwen.freeola.com/TheThirdManifesto.web/REAL.pdf</a></dd>
      </dl>
      <dl>
        <dt>Duro</dt>
        <dd><a href="http://duro.sourceforge.net/">http://duro.sourceforge.net/</a></dd>
      </dl>
      <dl>
        <dt>Rel</dt>
        <dd><a href="http://dbappbuilder.sourceforge.net/Rel.html">http://dbappbuilder.sourceforge.net/Rel.html</a> -- <a href="RelProject.html">RelProject</a></dd>
      </dl>
      <dl>
        <dt>Dee</dt>
        <dd><a href="http://www.quicksort.co.uk">http://www.quicksort.co.uk</a> -- Python + relations</dd>
      </dl>
      <p>
        Of the above, the <a href="RelProject.html">RelProject</a> is the most faithful implementation of <a href="TutorialDee.html">TutorialDee</a>, but is still a <a href="WorkInProgress.html">WorkInProgress</a>.
      </p>
      <hr/>
      <p>
        <strong>Commentary</strong>
      </p>
      <p>
        Tutorial D is the training language in recent Date's books. It tends to look like:
      </p>
      <code>
        (tableA operator tableB) [column1, column2, etc...]<br/>
      </code>
      <p>
        I think I prefer prefix {"op (a, b, ,8...)"} notation instead of infix {"(a op b)"} for relational logic. That way you don't have a totally different syntax if there are 3+ operands instead of just 2 required for infix. I suppose this is probably a subjective thing though.
      </p>
      <p>
        However, it is easier to implement prefix in most other languages since user-defined functions usually support prefix, but not infix. Thus, one could train with or simulate a <a href="RelationalDatabase.html">RelationalDatabase</a> in their local computer language more easily with prefix.
      </p>
      <hr/>
      <p>
        <em>I don't like the nesting approach of Tutorial D and SQL. I like the functional style of </em><a href="BusinessSystemTwelve.html">BusinessSystemTwelve</a>.<em></em>
      </p>
      <p>
        Tutorial D has the WITH statement if you prefer not to nest your statements. For an example, see page 17 of this paper - <a href="http://www.hughdarwen.freeola.com/TheThirdManifesto.web/Missing-info-without-nulls.pdf">http://www.hughdarwen.freeola.com/TheThirdManifesto.web/Missing-info-without-nulls.pdf</a>
      </p>
      <p>
        -- 
        PaulVernon
      </p>
      <hr/>
      <p>
        <a href="PageAnchor.html">PageAnchor</a> prefix_vs_infix
      </p>
      <p>
        <em>I don't like the nesting approach of Tutorial D and SQL. I like the functional style of </em><a href="BusinessSystemTwelve.html">BusinessSystemTwelve</a>.<em></em>
      </p>
      <p>
        I don't understand "the nesting approach", nor what it might be that Tutorial D and SQL have in common but Tutorial D and BS12 do not have in common. But I assume that "the functional style" here refers to BS12's prefix notation. Date and I chose it because we thought it was better for teaching purposes, but we have had cause to regret it and would probably switch to prefix notation if we could start again from scratch.
      </p>
      <p>
        -- <a href="HughDarwen.html">HughDarwen</a>
      </p>
      <p>
        <em>Is it too late to change?</em>
      </p>
      <p>
        (More syntax critiques under <a href="TqlDesignGoals.html">TqlDesignGoals</a>)
      </p>
      <hr/>
      <p>
        I think by nested he is talking about the fact that everything is nested inside the one statement. In SQL, you would say (MS <a href="SqlServer.html">SqlServer</a>):
      </p>
      <code>
        /* show departments that exceed their salary budgets */<br/>
        Select d.Deptnum, Count(1) as Emps, Sum(e.Salary) as Salsum<br/>
        From Emp as e<br/>
        Join Dept as d<br/>
        On e.Deptnum = d.Deptnum<br/>
        Where Salsum > d.Budget<br/>
        Group By Deptnum<br/>
      </code>
      <p>
        This is nested because all of the logic is nested within the statement.
      </p>
      <p>
        BS12 would use the following (taken from the above link).
      </p>
      <code>
        [DEFINE] T1 = JOIN(EMP, DEPT)<br/>
        T2 = SUMMARY(T1, GROUP(DEPTNUM), EMPS=COUNT,<br/>
        SALSUM=SUM(SALARY))<br/>
        T3 = SELECT(T2, SALSUM > BUDGET)<br/>
      </code>
      <p>
        [Subject to frequent <a href="TabMunging.html">TabMunging</a>. I think there's also an error in the original source. The first two commands should be switched or reworked in order to get BUDGET properly from DEPT.]
      </p>
      <p>
        What I think he is really referring to is the use of temporary variables T1, T2 and T3.
      </p>
      <p>
        In SQL there are references being created, such as 'Dept as D', but these are embedded within the statement. With the BS12 format it is much easier to look up what T1 or T2 actually mean. 
      </p>
      <p>
        However, I don't think the functional style reveals the queries structure as easily.
      </p>
      <ul>
        <li>
           <em>Please clarify</em>
        </li>
      </ul>
      <p>
        Also, with a database you tend to get to know the schema rather well. The use of temporary variables can hide this from you, especially if names are inconsistent.
      </p>
      <ul>
        <li>
           <em>Please clarify.</em>
        </li>
      </ul>
      <p>
        I think this is a question of taste rather than a limitation in SQL or Tutorial D itself.
      </p>
      <p>
        The style of functional programming has been available in TSQL for some time, but the nested format is still preferred for most small queries. Personally I prefer the nested style.
      </p>
      <p>
        -- Ged Byrne
      </p>
      <p>
        <em>You are right, it is largely a matter of taste. But note that a functional style can be nested also. Thus, we are not losing that ability, but gaining reference-based chunking when things grow large. Temporary references/views are merely a bonus, for each statement can be nested inside if need be (at least in TQL/SMEQL). Plus, not all duplication of reference is tree-shaped. Named references allow non-tree reuse of sub-queries, unlike nesting. Further, we already have SQL if you like a nested standard. Any new query standards should take a different direction from SQL to provide more style choices.</em>
      </p>
      <hr/>
      <p>
        I agree that for small queries, the nested style is fine. However, for large queries they are a nightmare in my opinion. For one, it is tough to factor out duplication of the tree "nodes". Function references can be proven to be more general-purpose than nested trees. Plus, it is easier to test the functional style because you don't have to bring the top and bottom "bread" together if you want to test the outer-nested queries by themselves. Further, a functional style does not preclude nesting: you simply nest the functions if you want. Thus, it easily gives you both. Finally, most programmers will better relate to functions I suspect.
      </p>
      <p>
        -- <a href="AnonymousDonor.html">AnonymousDonor</a>
      </p>
      <p>
        <a href="TutorialDee.html">TutorialDee</a> doesn't preclude factoring out portions as functions. In fact, it explicitly allows for relation-valued functions. I agree that this is a very useful technique. -- <a href="DanMuller.html">DanMuller</a>
      </p>
      <hr/>
      <p>
        In addition to implementing a significant subset of <a href="TutorialDee.html">TutorialDee</a>, The <a href="RelProject.html">RelProject</a> implementation of <a href="TutorialDee.html">TutorialDee</a> adds syntax enhancements.  One of these is the ability to produce relational expressions without the "nesting" noted above. I'll take "nesting" to mean a tendency toward a rather LISP-like frequency of parentheses.  For example, the <a href="TutorialDee.html">TutorialDee</a> expression:
      </p>
      <code>
        ((S {a, b}) WHERE b = 3) RENAME b AS q<br/>
      </code>
      <p>
        Can be written in Rel as:
      </p>
      <code>
        S {a, b} WHERE b = 3 RENAME b AS q<br/>
      </code>
      <p>
        Or even:
      </p>
      <code>
        S {a, b} [b = 3] RENAME b AS q<br/>
      </code>
      <p>
        The Rel precedence rules for relational operators are simple and fairly intuitive.
      </p>
      <p>
        I suppose it's a matter of opinion as to whether these are 
        "enhancements" or not.
      </p>
      <p>
        -- <a href="DaveVoorhis.html">DaveVoorhis</a>
      </p>
      <hr/>
      <p>
        I don't have either of those books, so I'm not really familiar with Tutorial-D (or any of its variations).  I am, however, familiar with SQL.  For comparison's sake, what does something in SQL look like relative to Tutorial-D?  -- <a href="JonathanMitchem.html">JonathanMitchem</a>
      </p>
      <p>
        <em>See </em><a href="QueryLanguageComparison.html">QueryLanguageComparison</a><em></em>
      </p>
      <p>
        Regarding Example 5:
      </p>
      <p>
        <em>Is there any case where we would not be inserting a TUPLE? I.e. could this TUPLE word here be dropped in a non learning version of Dee?</em>
      </p>
      <p>
        Could it be dropped?  Certainly.  Even if you were inserting things other than TUPLE it could be dropped (using keywords only for those other things).  <em>And</em> you'd be better off going back to something closer to the 'myThings(a,b,c,name)' solution SQL provides to reduce verbosity and improve clarity - at no loss of generality or 'purity'.  Perhaps:
      </p>
      <code>
        myThings U= relation(a,b,c,name) { (1,2,3,'glub'), (4,5,6,'glob') };<br/>
        or<br/>
        myThings = union(myThings,relation(a,b,c,name){(1,2,3,'glub'),(4,5,6,'glob')}).<br/>
      </code>
      <p>
        The extreme and unnecessary verbosity of languages like SQL and <a href="TutorialDee.html">TutorialDee</a> are almost enough to make me run away screaming and reject <a href="RelationalModel.html">RelationalModel</a> due, merely, to associative aversion.  If you're aiming for a terse version of D language, you could do <em>so</em> much better than taking <a href="TutorialDee.html">TutorialDee</a> and trimming it down.  Start from the other direction: grab the list of all the RelationalOperators provided by <a href="TutorialDee.html">TutorialDee</a>, and simply create a nice, terse syntax that covers all of them and is reasonably intuitive, prioritizing operations that you profile/guess will receive the most use.  Just be sure to also consider failure-states (e.g. missing punctuation should probably fail-fast or self-correct easily rather than create a correct command that does something that wasn't intended).
      </p>
      <p>
        <em>Well of course we won't reject the </em>'relational model<strong> due to a specific language which talks to the RDBMS. I don't mind the verbosity for </strong>teaching<strong> - and it is good that they make the distinction between Dee and </strong><a href="TutorialDee.html">TutorialDee</a>. Not that I'm wanting to turn a relational language into a regex or a perl style language - but cutbacks and careful syntax choices can be made so that it is more practical for real world developers. If we look at history, we've seen Standard Pascal, Modula, Oberon, fade into academic obscurity due to even their verbosity as a primary reason possibly. We've seen Ada being mocked and rejected due to its complex, verbose, baroque syntax - although Ada has been successful in aerospace.<em></em>
      </p>
      <p>
        <em>I see the inventors of </em><a href="TutorialDee.html">TutorialDee</a> brag about how they got rid of SELECT as if this is a <strong>big step for man</strong> in a PDF file somewhere (possibly they brag because SELECT is too <strong>imperative</strong>, and/or that it adds needless verbosity).. but in some of the other syntax in <a href="TutorialDee.html">TutorialDee</a> such as this TUPLE repetition I noted, I find it <strong>just as verbose</strong> and sinful (or so similarly verbose to SQL that people will pass it off as an SQL clone that's just a <strong>different</strong> way of accessing the database in a <strong>different</strong> language without it providing lots of serious benefits (even if it does provide some)).  I see some <a href="NeedlessRepetition.html">NeedlessRepetition</a> in many examples, which can be reduced I'm sure.<em></em>
      </p>
      <p>
        So let's see:
      </p>
      <code>
        <strong>put</strong> myThings <strong>rel</strong> {<br/>
        {x: 1, y: 2, z: 3, name: 'glub'},<br/>
        {x: 4, y: 5, z: 6, name: 'glob'},<br/>
        }<br/>
      </code>
      <p>
        That's still a bit verbose since we repeat the x, y, z. INSERT is trimmed to PUT keyword and no caps lock is used. RELATION is trimmed to REL. Put could be changed to <strong>ins</strong> short for insert.
      </p>
      <p>
        Or similar to your example:
      </p>
      <code>
        <strong>put</strong> myThings <br/>
        <strong>rel</strong>(x, y, z, name) { <br/>
        (1, 2, 3, 'glub'), <br/>
        (4, 5, 6, 'glob') <br/>
        };<br/>
      </code>
      <hr/>
      <p>
        Didn't D used to use square brackets for column selection?
      </p>
      <p>
        [D is an abstract specification. It doesn't "use" any syntax. <a href="TutorialDee.html">TutorialDee</a> does not, nor has it used square brackets for projection. <a href="DeleteWhenRead.html">DeleteWhenRead</a>] 
      </p>
      <p>
        On page 151 of "Introduction to Database Systems" by C. J. Date does indeed show and even mention square brackets. I don't know if that was meant to be "Tutorial D" formal, though.
      </p>
      <p>
        <em>Which edition?  I'm looking at page 151 of the 8th edition, and I see no brackets of any kind.  The only code on my page is a SQL query.</em>
      </p>
      <ol>
        <li>
          th edition. A bit dated (no pun intended). Outdated textbooks are really cheap because of the huge volume dumped on the market after professors move on.
        </li>
      </ol>
      <hr/>
      <p>
        <a href="http://www.dcs.warwick.ac.uk/~hugh/#CS252">http://www.dcs.warwick.ac.uk/~hugh/#CS252</a>
      </p>
      <p>
        This contains course notes for a course taught by <a href="HughDarwen.html">HughDarwen</a>. It teaches a great deal of Tutorial D. This is the closest thing I can find to a "tutorial" online.
      </p>
      <hr/>
      <p>
        Whole bunch of stuff moved to <a href="DateAndDarwensTypeSystem.html">DateAndDarwensTypeSystem</a>
      </p>
      <hr/>
      <p>
        See Also: <a href="RelationalDatabase.html">RelationalDatabase</a>, <a href="SqlFlaws.html">SqlFlaws</a>, <a href="RelationalLanguage.html">RelationalLanguage</a>, <a href="LanguageIndependentServices.html">LanguageIndependentServices</a>
      </p>
      <hr/>
      <p>
        <a href="CategoryProgrammingLanguage.html">CategoryProgrammingLanguage</a> <a href="CategoryDatabase.html">CategoryDatabase</a> <a href="CategoryQueryLanguage.html">CategoryQueryLanguage</a>
      </p>
    </div>
  </body>
</html>