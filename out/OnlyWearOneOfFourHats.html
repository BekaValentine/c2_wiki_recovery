<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Only Wear One Of Four Hats
      </h1>
      <p>
        <a href="KentBeck.html">KentBeck</a> told me something <em>very important</em> one time.  When you are coding you should only be wearing one of four different hats.
      </p>
      <ul>
        <li>
           Refactoring code, but only changing the interface 
        </li>
        <li>
           Refactoring code, but only changing the implementation
        </li>
        <li>
           Adding new functionality, but only changing the interface 
        </li>
        <li>
           Adding new functionality, but only changing the implementation.
        </li>
      </ul>
      <p>
        Do things a little bit at a time and limit the source of errors.  You run your unit tests before switching hats.  More often than not to add new functionality you need to do a little refactoring.  Separate the two functions don't do both at the same time, refactor then add.
      </p>
      <hr/>
      <p>
        At one point in the C3 project I had a collection of hats on my bookcase to remind me how important a habit this is to develop. --<a href="DonWells.html">DonWells</a>
      </p>
      <hr/>
      <p>
        We've gone Extreme, and are down to two hats now: interface or implementation. And Don is right ... it's <strong>very</strong> important.
      </p>
      <hr/>
      <p>
        Please clarify for me how you only wear two hats.  Two hats seems too few.  Are you saying that if you come to a class which requires refactoring and cleaning up for its own sake, as well as requiring new functionality, would you advocate doing both in a single step?  What we were taught is when adding new functionality, it should almost be a drop-in.  Refactoring is usually required first to make it so.  We would consider this to be two steps: refactoring and new functionality.  Would you advocate a single step?  --<a href="JeanineDeGuzman.html">JeanineDeGuzman</a>
      </p>
      <p>
        <em>Not at all ... read on below ...</em>
      </p>
      <hr/>
      <p>
        Put me in the puzzled camp as well. Changing the Interface for refactoring vs changing the interface for new functionality seems distinct. So why drop two of the four hats? --<a href="PeteMcBreen.html">PeteMcBreen</a>
      </p>
      <p>
        <em>We refactored the rule ... read on ...</em>
      </p>
      <hr/>
      <p>
        It's a two-d matrix, of course. interface / implementation vs refactor / add.
      </p>
      <p>
        The refactor / add dimension, however, is your overall purpose. The interface / implementation dimension is the immediate purpose for your typing at the moment.
      </p>
      <p>
        The XP rule <a href="SitOnOneCard.html">SitOnOneCard</a> directs that you only have one overall purpose, pins the refactor / add dimension (and also the add one thing /  add another thing).
      </p>
      <p>
        That lets the hats refer only to your coding activity net of overall purpose.
      </p>
      <p>
        A common strategic problem is to work on two cards at once. A common tactical problem in the heat of coding is to work on interface and implementation at once. 
      </p>
      <p>
        Don's formulation is good advice as phrased. We now break out the two dimensions. Sort of refactored the rule.
      </p>
      <hr/>
      <p>
        I think some [/all?] of the places above where the verb "to refactor" is used, it may be an instance of an outdated term, where the later decision was to use the word "design" instead. --<a href="MikeSchwartz.html">MikeSchwartz</a> 
      </p>
      <p>
        In this case refactor is correct.  That has to do with the <a href="ExtremeValues.html">ExtremeValues</a> where it was decided that design was a more general term for refactor.  Refactoring is often how we do <a href="DesignInXp.html">DesignInXp</a>.  --<a href="DonWells.html">DonWells</a>
      </p>
      <p>
        Ooops, yeah, See also <a href="RefactorOrDesign.html">RefactorOrDesign</a>. --<a href="MikeSchwartz.html">MikeSchwartz</a>
      </p>
      <hr/>
      <p>
        Where does bug fixing fit in?  Suppose you were refactoring some code, and noticed a bug.  Do you add a test and fix it right a way, or do you postpone it until after you've finished your current refactoring?  <em>Or, the third option: back out your current refactoring, then test and fix the bug.  Then, decide where to go next (this may not be the refactoring you were in the middle of!)</em>
      </p>
      <hr/>
      <p>
        See also <a href="RefactoringHat.html">RefactoringHat</a>, <a href="RewritingHat.html">RewritingHat</a>
      </p>
      <p>
        <a href="CategoryRefactoring.html">CategoryRefactoring</a>
      </p>
    </div>
  </body>
</html>