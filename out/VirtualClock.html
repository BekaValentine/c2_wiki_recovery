<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Virtual Clock
      </h1>
      <p>
        [<a href="CategoryTesting.html">CategoryTesting</a>]
      </p>
      <p>
        This is an addition to <a href="TestingPatterns.html">TestingPatterns</a> (we might need a CategoryTestingPatterns).
      </p>
      <p>
        Also see <a href="TestOverridesNow.html">TestOverridesNow</a>.
      </p>
      <hr/>
      <p>
        Some time ago I proposed a "Virtual Clock" pattern on the XP mailing list. I was encouraged by <a href="KentBeck.html">KentBeck</a> to write it down, and at long last I did.
      </p>
      <p>
        -- <a href="PaoloPerrotta.html">PaoloPerrotta</a>
      </p>
      <p>
        The original document Paolo refers to is not available, but he was able to send me a Ruby version he also authored.
      </p>
      <p>
        -- BrianEdwards
      </p>
      <p>
        The original document feel off the Internet.
      </p>
      <ul>
        <li>
           <em>See: </em><a href="http://web.archive.org/web/*/http://www.nusco.org/docs/virtual_clock.pdf">http://web.archive.org/web/*/http://www.nusco.org/docs/virtual_clock.pdf</a>
        </li>
        <li>
           Direct link to last download: <a href="http://web.archive.org/web/20070221151204/http://www.nusco.org/docs/virtual_clock.pdf''">http://web.archive.org/web/20070221151204/http://www.nusco.org/docs/virtual_clock.pdf''</a>
        </li>
        <li>
           Later Ruby version: <a href="http://ducktypo.blogspot.it/2013/12/the-virtual-clock-test-pattern.html">http://ducktypo.blogspot.it/2013/12/the-virtual-clock-test-pattern.html</a>
        </li>
      </ul>
      <p>
        -- <a href="PaoloPerrotta.html">PaoloPerrotta</a>
      </p>
      <p>
        Nice.  I do the same thing, only different. :) I create Time interface, and then provide either <a href="RealTime.html">RealTime</a> implementation, or a MockTime implementation.  This gives me flexibility to advance the time any amount at any time (or not), but because MockTime is *only* referenced from test code, it avoids the "accidental freezing" you mentioned.
      </p>
      <p>
        -- <a href="DavidCorbin.html">DavidCorbin</a>
      </p>
      <p>
        <em>You're right, this is a better approach. The code in 1.0 uses this --</em><a href="PaoloPerrotta.html">PaoloPerrotta</a><em></em>
      </p>
      <hr/>
      <p>
        You can refer to <a href="ThePrevayler.html">ThePrevayler</a> to see another use of a "virtual clock". Klaus' AlarmClock prevents nondeterminstic behavior in the face of commands that depend on the system clock.
      </p>
      <p>
        -- <a href="JbRainsberger.html">JbRainsberger</a>
      </p>
    </div>
  </body>
</html>