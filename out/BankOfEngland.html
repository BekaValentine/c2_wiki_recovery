<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Bank Of England
      </h1>
      <p>
        Bank Of England is an <strong></strong><a href="AntiPattern.html">AntiPattern</a><strong>. This is one of the </strong><a href="JavaIdioms.html">JavaIdioms</a>.
      </p>
      <p>
        <em>Problem</em>: The common way to protect methods and fields that are at design-time not used by other classes is to define them private (see  <a href="CreatePrivatelyPublishLater.html">CreatePrivatelyPublishLater</a>). However, if somebody gets this code as part of a distribution, it is a bad idea for them to change it, even if they get the source.
        So if they extend such a class, and they need access to some methods or fields
        that are private - Oops! The methods and fields are (too) well guarded; hence I call it the "Bank of England".
      </p>
      <p>
        <em>Solution</em>: Make all variables accessible to subclasses, either through a protected get/set pair of accessor methods, or by making the variables themselves protected.
      </p>
      <p>
        <em>Comment</em>: In Smalltalk and Eiffel, all instance variables are protected, so this idiom merely transfers common practice from those languages to Java.
      </p>
      <p>
        <em>Comment</em>: Many Java books recommend making the variables private and using the get/set pair. This is an option not available to Smalltalk. The advantage is that it gives you a chance to keep subclasses working even if you later rename or eliminate the variables.
      </p>
      <p>
        <em>Comment</em>: If you are bothered about the runtime efficiency costs of a get/set pair, you can declare them to be final so that they can be automatically inlined. Although final methods are usually worse than non-final methods, they are usually <strong>better</strong> than accessing variables directly or not having access at all.
      </p>
      <p>
        <em>Hints</em>: If you can, define the set/get accessor-pairs final, so the java compiler can inline them to improve performance.
      </p>
      <p>
        <em>Comment</em>: Recall that protected attributes and members are visible within the package and to all descendants.  Since anyone can add classes to any package, 'protected' in Java pretty much means 'wide open' :-(.  Use accessors and mutators to control the manner of modification of attributes.
      </p>
      <p>
        <em>Comment</em>: If you don't like the way a class is implemented, reimplement it (possibly calling the original), don't extend it.  Inheritance isn't a good way of fixing bugs. -- <a href="RickyClarkson.html">RickyClarkson</a>
      </p>
      <hr/>
      <p>
        <a href="CategoryJava.html">CategoryJava</a>
      </p>
    </div>
  </body>
</html>