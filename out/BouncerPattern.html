<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Bouncer Pattern
      </h1>
      <p>
        I don't know if it's a global term, but where I come from a bouncer is a doorman at a night club. If he doesn't like you, or you don't fit the night club's desired clientele, he refuses to let you in. If you want to argue, he'll punch you and throw you out into the street.
      </p>
      <p>
        In software, a bouncer is a method whose raison d'Ãªtre is to either throw an exception or do nothing.  A simple Java bouncer would be one that checks that a parameter is not null, and throws an <a href="IllegalArgumentException.html">IllegalArgumentException</a> if it is.
      </p>
      <hr/>
      <p>
        <em>Is this the same as an assertion, or a precondition?</em> -- <a href="RalphMellor.html">RalphMellor</a>
      </p>
      <p>
        It's an assertion. The bouncer only does its job when called on. Of course, if a method has a precondition it wants to check, it could assert that the precondition is satisfied by calling an appropriate bouncer at the top of the method.
      </p>
      <p>
        Personally, I can only think of one reason why a bouncer method is useful: you can put a nice, readable name or an assertion (<em>e.g.</em> checkBoundingBoxConstraint). If this assertion is needed in more than one place, <a href="OnceAndOnlyOnce.html">OnceAndOnlyOnce</a> favors the bouncer method too.
      </p>
      <hr/>
      <code>
        void checkNotNull(String name, Object obj) {<br/>
        if (obj == null)<br/>
        throw new <a href="IllegalArgumentException.html">IllegalArgumentException</a>(name + " is null");<br/>
        }<br/>
      </code>
      <code>
        public void doStuff(String name, Object value) {<br/>
        checkNotNull("name", name);<br/>
        checkNotNull("value", value);<br/>
        ... do stuff ...<br/>
        }<br/>
      </code>
      <p>
        In this example, checkNotNull is the bouncer.
      </p>
      <p>
        This example is maybe too trivial, as the pattern is most useful when the condition to be checked is more complex and needs to be used for multiple methods, such as there exists a row in the database with this primary key.
      </p>
      <hr/>
      <p>
        java.lang.SecurityManager[<a href="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/SecurityManager.html]">http://java.sun.com/products/jdk/1.2/docs/api/java/lang/SecurityManager.html]</a> is a collection of bouncers. -- <a href="MartinPool.html">MartinPool</a>
      </p>
      <p>
        [<a href="JavaSecurityManager.html">JavaSecurityManager</a>]
      </p>
      <hr/>
      <p>
        This is similar to another pattern on Wiki (I can't find the page), where an object has an OK() method that validates its internal structure. <em></em><a href="CodeClassInvariants.html">CodeClassInvariants</a>?<em></em>
      </p>
      <hr/>
      <p>
        In <a href="NewYorkCity.html">NewYorkCity</a>, there are many clubs that have two different roles for doorman. First is the bouncer role described above. Second is the role of choosing people for admittance based on appearance, style, etc., etc. Studio 54 was the first to do this. You could critically describe this as a typical manifestation of the kind of insecure status-seeking behavior highly apparent in large cities. You could charitably describe this as the maintenance of a social environment that is impossible without this sort of social filtering.
      </p>
      <p>
        This possibly has nothing to do with <a href="BouncerPattern.html">BouncerPattern</a> and OO design; I just felt like throwing it in.
      </p>
      <p>
        <em>This could be related. The first role matches </em><a href="SecurityManager.html">SecurityManager</a>'s bouncer methods and similar constructs whose purpose is to decide whether something is possible or permitted based on the state of the object containing the method (i.e. letting people in based on how busy the club is, or whether it's a free night..etc). The second is more like the GatedCommunity described below, where the bouncer's purpose is to check the <strong>data</strong> provided as an argument in the context of the object (is someone dressed well enough for <strong>this</strong> club..). With that analogy, the above example of checkNotNull is actually of the second category. Not sure if this is actually a <strong>useful</strong> extension of the analogy, but it seems consistent to me. =) -- <a href="TorneWuff.html">TorneWuff</a><em></em>
      </p>
      <hr/>
      <p>
        Also see <a href="GuardClause.html">GuardClause</a>.
      </p>
      <p>
        <em>A bouncer is effectively a guard clause which can check object state or parameters, with the added constraint that because it is a method it is liable to be called from anywhere and so can play no role in executing the business logic of its caller. They should never return answers like the guard clauses do. This is consistent with my opinion of real bouncers, i.e. that they have no intelligence and are only good at ejecting people. -- </em><a href="JohnFarrell.html">JohnFarrell</a><em></em>
      </p>
      <p>
        How about the <a href="GatedCommunityPattern.html">GatedCommunityPattern</a>? (discussion moved to that page)
      </p>
      <hr/>
      <p>
        Category: <a href="JavaIdioms.html">JavaIdioms</a>
      </p>
      <p>
        Parallel: <a href="GatedCommunityPattern.html">GatedCommunityPattern</a>
      </p>
      <p>
        Contributors: <a href="RalphMellor.html">RalphMellor</a>, <a href="JohnFarrell.html">JohnFarrell</a>, <a href="MartinPool.html">MartinPool</a>, <a href="MartySchrader.html">MartySchrader</a>
      </p>
    </div>
  </body>
</html>