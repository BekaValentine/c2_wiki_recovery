<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Micro Kernel
      </h1>
      <p>
        From the <a href="FreeOnLineDictionaryOfComputing.html">FreeOnLineDictionaryOfComputing</a>: <a href="http://nightflight.com/foldoc-bin/foldoc.cgi?query=microkernel">http://nightflight.com/foldoc-bin/foldoc.cgi?query=microkernel</a>
      </p>
      <dl>
        <dt>microkernel</dt>
        <dd><operating system> An approach to operating system design emphasizing small modules that implement the basic features of the system kernel and can be flexibly configured. (1999-08-02)</dd>
      </dl>
      <p>
        But in reality, the performance of <a href="MicroKernel.html">MicroKernel</a> is often poor enough and the implementation is complicated enough that still today most <a href="OperatingSystems.html">OperatingSystems</a> are written using <a href="MonolithicKernel.html">MonolithicKernel</a>.
      </p>
      <dl>
        <dt> </dt>
        <dd><em>OTOH, the MIT </em><a href="ExoKernel.html">ExoKernel</a> operating system is said to be very fast.<em></em></dd>
      </dl>
      <p>
        OTOH, BeOS and QNX are microkernel based and are very fast. In fact, I am considering removing the above remark due to its blaring incorrectness. The reason most people are using monolithic kernels is legacy.
      </p>
      <p>
        Mach, <a href="WindowsNtKernel.html">WindowsNtKernel</a>, <a href="GnuHurd.html">GnuHurd</a> and XNU (kernel of <a href="MacOsx.html">MacOsx</a>) are examples of <a href="MicroKernel.html">MicroKernel</a>. -- <a href="TakuyaMurata.html">TakuyaMurata</a>
      </p>
      <dl>
        <dt> </dt>
        <dd>XNU is not a <a href="MicroKernel.html">MicroKernel</a>, it is a kernel obtained by merging the Mach <a href="MicroKernel.html">MicroKernel</a> with parts of the BSD kernel and parts specific to Darwin, all running in kernel space.</dd>
      </dl>
      <p>
        <a href="WindowsNtKernel.html">WindowsNtKernel</a> is also not actually a microkernel, although it was <em>marketed</em> as a microkernel when microkernels were fashionable. For example, the NT executive (aka the kernel) is implemented above a hardware abstraction layer.  In a true microkernel OS, the kernel itself is the hardware abstraction layer.  And now, since the graphics and GUI components have been moved into kernel space, NT is even less of a microkernel OS.
      </p>
      <p>
        The use of microkernels in 'real' operating systems like Darwin is a bit weird. The big idea of microkernels is that the kernel can be split up into independent parts ('servers') which communicate with each other and applications through message-passing; crucially, these are genuinely separate user-level processes, so they are protected from one another's bugs, can crash or be shut down without taking down the system, can be  dynamically replaced at runtime, etc. In Darwin etc, the whole kernel is still a single kernel-level entity, with the microkernel compiled in; the microkernel is simply being used to provide a flexible and consistent infrastructure for the rest of the kernel. This is all down to performance reasons, i think.
      </p>
      <hr/>
      <p>
        The best example I've seen of a <em>true</em> <a href="MicroKernel.html">MicroKernel</a> is the <a href="EllFour.html">EllFour</a> microkernel (whose main author has unfortunately passed away). They ported Linux to run on top of this kernel (L4/Linux) and there is a rewrite-in-C++ project going on, etc.
      </p>
      <p>
        L4 has only three abstractions (or two, depending on how you count). It has only 7 API functions! A far cry from Windows with its HAL, or Mach, or even normal Linux. :)
      </p>
      <p>
        -- <a href="WylieGarvin.html">WylieGarvin</a>
      </p>
      <p>
        <em>I actually think the 'big idea' of microkernels is that the system's kernel should contain only the concepts, and the functionality, which *absolutely must* be in the kernel in order to build a secure, high-performance system. Many first-generation microkernels like Mach include a lot of stuff in the microkernel which doesn't strictly need to be there. Microkernels like L4 are much closer to this ideal, and perform much better as a result. L4 includes almost nothing besides threads, address-space construction and IPC. Everything else can be built efficiently out of these in user-mode servers.</em>
      </p>
      <p>
        <em>Here are some research papers from 1997 about L4 and the design of efficient microkernels:</em>
      </p>
      <ul>
        <li>
           <em>The Performance of </em><a href="MicroKernel.html">MicroKernel</a>-Based Systems<em> </em><a href="http://citeseer.ist.psu.edu/45391.html">http://citeseer.ist.psu.edu/45391.html</a>
        </li>
        <li>
           <em></em><a href="MicroKernel.html">MicroKernel</a>s Can And Must Be Small<em> </em><a href="http://citeseer.ist.psu.edu/408369.html">http://citeseer.ist.psu.edu/408369.html</a>
        </li>
      </ul>
      <p>
        <em>Smallness (and fastness) have been achieved in some modern microkernels like L4. The failure of Mach and other first-generation microkernels is not due to a fundamental flaw in the microkernel idea. The flaws were implementation-specific. They were large and complicated and that's why they were slow.</em>
      </p>
      <p>
        <em>Why do microkernels matter? Because a properly-designed microkernel system can be as fast as a monolithic kernel, and yet provide significantly more safety and flexibility. -- </em><a href="WylieGarvin.html">WylieGarvin</a><em></em>
      </p>
      <hr/>
      <p>
        One of the most successful microkernel operating systems is QNX. The performance of the <a href="QnxOperatingSystem.html">QnxOperatingSystem</a> is certainly not "poor". It is also reliable enough to be used in safety critical systems such as nuclear power stations, aircraft control systems, vehicle and traffic control systems, medical equipment, etc.
      </p>
      <p>
        Interesting point: the QNX kernel is small enough to fit into the first-level processor cache.
      </p>
      <p>
        <em></em><a href="QnxNeutrino.html">QnxNeutrino</a> is the name of the microkernel in QNX's flagship products. It's pretty good stuff.<em></em>
      </p>
      <hr/>
      <p>
        Is there any truth to the rumor that MACH really stands for <a href="MicroKernel.html">MicroKernel</a> Architectures <a href="ConsideredHarmful.html">ConsideredHarmful</a>?
      </p>
      <p>
        e_s
      </p>
      <hr/>
      <p>
        Just to add, Windows NT is a hybrid <a href="MicroKernel.html">MicroKernel</a>. The communications between ring 0 and ring 1 (the two core abstract rings in it's design) is done through message passing. Ring 1 in pure microkernels shouldn't have direct hardware access but it does in NT. This is for one reason only - latency and the fact that PC hardware is shit and very hard to do IO with through passing messages.  The graphics interface is through the HAL which is ring 1 and the UI is at the same level but can only pass messages to the GDI HAL. It's as secure as any other OS structured in this way. In many ways it's superior as from a usability point of view in its target markets, it's spot on.
      </p>
      <hr/>
      <p>
        I think <a href="AndrewTanenbaum.html">AndrewTanenbaum</a> should be mentioned on this page, but I can't figure out how.
      </p>
      <p>
        He had a famous "discussion" with <a href="LinusTorvalds.html">LinusTorvalds</a> regarding the various merits and drawbacks of microkernels. See <a href="http://www.dina.dk/~abraham/Linus_vs_Tanenbaum.html.">http://www.dina.dk/~abraham/Linus_vs_Tanenbaum.html.</a>
      </p>
      <p>
        He also released his <a href="MicroKernel.html">MicroKernel</a> based minix 3 operating system. <a href="http://www.minix3.org.">http://www.minix3.org.</a>
      </p>
      <hr/>
      <p>
        <a href="CategoryOperatingSystem.html">CategoryOperatingSystem</a>
      </p>
    </div>
  </body>
</html>