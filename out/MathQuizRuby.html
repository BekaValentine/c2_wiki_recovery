<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        Math Quiz Ruby
      </h1>
      <p>
        Here's some ruby code to demonstrate an exhaustive search for a candidate solution to the following problem from <a href="MathQuizOne.html">MathQuizOne</a>:
      </p>
      <p>
        "The expression 9*7-4*8-2 (where * is the multiplication operator) has value 29 (since multiplication takes precedence over subtraction). Now suppose you evaluate using a calculator of the older type which implements add, subtract, multiply and divide in the order they are entered, so that the expression has value 470. Replace each multiplication and subtraction symbol with a mathematical symbol of your choice (without using letters, brackets, or digits) so that the value of the expression becomes 29 again."
      </p>
      <p>
        The code itself makes certain assumptions about the shape of an acceptable solution. If you have other ideas, you'll have to change the code.
      </p>
      <hr/>
      <code>
        #!/usr/bin/env ruby<br/>
      </code>
      <code>
        add = Proc.new { |a, b| a+b }<br/>
        sub = Proc.new { |a, b| a-b }<br/>
        mul = Proc.new { |a, b| a*b }<br/>
        div = Proc.new { |a, b| a/b }<br/>
      </code>
      <code>
        @ops = {'+'=>add, '-'=>sub, '*'=>mul, '/'=>div}<br/>
      </code>
      <code>
        @sols = []<br/>
      </code>
      <code>
        def f(num, lst, str)<br/>
        if lst.empty? then @sols << [str, num]<br/>
        else<br/>
        head = lst[0]<br/>
        tail = lst[1, lst.length - 1]<br/>
        @ops.each do |ch, op|<br/>
        try = op.call(num, head)<br/>
        f(try, tail, str+ch)<br/>
        end<br/>
        end<br/>
        end<br/>
      </code>
      <code>
        f(9.0, [7, 4, 8, 2], <em>)</em><br/>
      </code>
      <code>
        p @sols<br/>
      </code>
      <hr/>
      <p>
        For the impatient: This code does not output the number 29 (though it does output 29.5 a couple times.)
      </p>
      <p>
        This doesn't say anything important on the feasibility of getting 29. What is says a lot about is the insanity of the question. The answer depends on the requirements, which themselves are deliberately unclear enough to make the problem into a riddle. Perhaps Vicky feels clever or superior.
      </p>
      <p>
        You are invited to fiddle with the code here and post results below. Outright removal of the page is offensive, OTOH.
      </p>
      <p>
        <em>Perhaps Vicki, etc.</em>
      </p>
      <p>
        Actually, no. The mathematical knowledge needed is fairly mundane, but it's interesting to see the ways in which the question is tackled, with various people confidently reaching mutually incompatible conclusions about individual tasks, and also about how easy the tasks are. They are not riddles, and (as already stated) the assessment of answers takes into account the minor problems of interpretation alluded to. -- vk
      </p>
    </div>
  </body>
</html>