<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        First Class Undo
      </h1>
      <p>
        I was reading about XMF (which is an <a href="ExtensibleProgrammingLanguage.html">ExtensibleProgrammingLanguage</a>).  Among its described features is '<a href="FirstClassUndo.html">FirstClassUndo</a>'ability.  
      </p>
      <p>
        'Undo' is a very valuable feature for human interfaces - where possible, it should be used instead of warnings.  Of course, not all things can be undone (you can't 'undo' lost time, lost opportunity, hurtful words (or sent message of any sort), a sped arrow (or bullet)).  But, when working in the context of data management, it would be very nice to have this feature common across languages and across as many actions as is feasible.
      </p>
      <p>
        Note that 'Undo' is not the same as 'uncommitted'.  For transactions and databases, 'undo' means the ability to roll back a particular transform <em>after</em> it has become part of the database, which means (essentially) keeping one or more 'undo' stacks.
      </p>
      <p>
        <em>Therefore, </em><a href="ExtensibleProgrammingLanguage.html">ExtensibleProgrammingLanguage</a> would make it easy to avoid creating <a href="SoftwareThatPunishesTheUser.html">SoftwareThatPunishesTheUser</a><em></em>
      </p>
      <p>
        XMF isn't the only <a href="ExtensibleProgrammingLanguage.html">ExtensibleProgrammingLanguage</a> (I added a note on that page to explain).  And being extensible is not necessary for <a href="FirstClassUndo.html">FirstClassUndo</a>.  Those two capabilities are very much orthogonal.
      </p>
      <p>
        <a href="FirstClassUndo.html">FirstClassUndo</a>, however, would make it easier to avoid creating <a href="SoftwareThatPunishesTheUser.html">SoftwareThatPunishesTheUser</a>.
      </p>
      <hr/>
      <p>
        <strong>Example from XMF:</strong>
      </p>
      <code>
        let v = Vector(1)<br/>
        in<br/>
        format(stdout,"v before update : ~S~%",Seq{v});<br/>
        @Undoable v.put(0,"Frank") end;<br/>
        format(stdout,"v after update  : ~S~%",Seq{v});<br/>
        xmf.undoEngine().undo();<br/>
        format(stdout,"v after undo    : ~S~%",Seq{v});<br/>
        xmf.undoEngine().redo();<br/>
        format(stdout,"v after redo    : ~S~%",Seq{v})<br/>
        end;<br/>
      </code>
      <p>
        This program gives rise to the following trace:
      </p>
      <code>
        v before update : Vector{null}<br/>
        v after update  : Vector{Frank}<br/>
        v after undo    : Vector{null}<br/>
        v after redo    : Vector{Frank}<br/>
      </code>
      <ol>
        <li>
          :0:0:16  ms ]
        </li>
      </ol>
      <code>
        true<br/>
      </code>
    </div>
  </body>
</html>