<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <base href="/mount/ultralaser_home/Projects/c2_wiki_recovery/out/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="page">
      <h1>
        <img src="wiki.gif" />
        How To Talk To Yourself When Reading Smalltalk
      </h1>
      <p>
        <em>This is obvious.. just talk about the weather, or sports, or other general small issues...  Pretend you're at a bar, make conversation. Make small talk. No, really.. </em>
      </p>
      <p>
        For tonight's reading, we have selected the following small piece:
      </p>
      <p>
        <strong>select: aBlock</strong>
      </p>
      <code>
        | newCollection |<br/>
        newCollection := self species new.<br/>
        self do: [ :each | (aBlock value: each) ifTrue: [newCollection add: each]].<br/>
        ^ newCollection<br/>
      </code>
      <p>
        I like the idea of talking to myself when reading any language, for example, reading i = i + 1 as "i gets i plus one".  But, even though I made a brief sojourn into Smalltalk a few weeks ago, this page gives me no hints.  (I did learn that I don't like the terminology "Answers a ..." found in the definition of each method (at least in Dolphin Smalltalk).) -- <a href="RandyKramer.html">RandyKramer</a>
      </p>
      <hr/>
      <code>
        Method select takes one argument, aBlock. <br/>
        One local object, newCollection. <br/>
        newCollection gets self species (answers a class) new. <br/>
        self do a one-argument block. <br/>
        The argument is each. <br/>
        aBlock value each (answers a boolean)if true block <br/>
        newCollection add each. end block. <br/>
        end block. <br/>
        answer newCollection.<br/>
      </code>
      <hr/>
      <p>
        I'm not sure I'm entirely convinced by the above. I <em>think</em> I would read this as :
      </p>
      <p>
        <em>This is how I </em>'select<strong> things, given a Block. To </strong>select<strong> things, I'll work on a newCollection, and return it at the end. The newCollection should be an instance of my </strong>species<strong>, i.e. idiomatically "my class or a close approximation thereof". For </strong>each<strong> thing I myself have, I will </strong>do<strong> the following - ask the Block I was given what its </strong>value<strong> is for that thing, and ask the value to do the following for me </strong>if<strong> it happens to be a </strong>true<strong> value : </strong>add<em>' the thing to the newCollection.</em>
      </p>
      <hr/>
      <p>
        Here's another reading. --<a href="RonJeffries.html">RonJeffries</a>
      </p>
      <p>
        I'd read much of it as written, actually:
      </p>
      <p>
        <strong>select: aBlock</strong>
      </p>
      <p>
        select colon aBlock (thinking, "It's a method named select taking a block.")
      </p>
      <code>
        | newCollection |<br/>
      </code>
      <p>
        temp newCollection
      </p>
      <code>
        newCollection := self species new.<br/>
      </code>
      <p>
        newCollection gets self species new. (thinking, "Species means 'class' except that collections convert to their species. this is a rather tricky bit that many smalltalkers never find out about.")
      </p>
      <code>
        self do: [ :each | (aBlock value: each) ifTrue: [newCollection add: each]].<br/>
      </code>
      <p>
        This one I don't read word for word. I see: "loop over the receiver (collection) and if the block value is true, add the element to newCollection".
      </p>
      <code>
        ^ newCollection<br/>
      </code>
      <p>
        "Answer the new collection" (you get used to saying answer. it's just a word.)
      </p>
      <p>
        Strictly I don't think those thoughts. I see that code and for most lines I just know what it means. I don't translate it to English to understand it, just as I used to not translate German to understand it, and as most of us don't translate our "native" programming language.
      </p>
      <hr/>
      <p>
        Ron notes at the end, "Strictly I don't think those thoughts."  This made me ask: <a href="ShouldWeTalkToOurselvesWhenReadingCode.html">ShouldWeTalkToOurselvesWhenReadingCode</a>?
      </p>
      <hr/>
      <p>
        Another way is this:
      </p>
      <p>
        <strong>select: a1blockDiscriminator</strong>
      </p>
      <code>
        | selectedElements |                                   " a temp "<br/>
        selectedElements := self species new.                  " selectedElements is initially an empty copy of this collection. "<br/>
        self do:                                               " do<br/>
        [ :eachElement |                                   "   eachElement suchThat<br/>
        (a1blockDiscriminator value: eachElement)         "   where the value of discriminator is true for said element "<br/>
        ifTrue: [selectedElements add: eachElement]   "   we add said element to selectedElements "<br/>
        ].<br/>
        ^ selectedElements                                     " answer the selectedElements "<br/>
      </code>
      <p>
        JimSawyer
      </p>
      <p>
        <a href="CategorySmalltalk.html">CategorySmalltalk</a>
      </p>
    </div>
  </body>
</html>